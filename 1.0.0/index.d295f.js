window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var l=r.split("/");if(l=l[l.length-1],!t[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){return i(t[r][1][e]||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Banner111006101:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameEventName111006101"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeBanner=null,t}return i(t,e),t.prototype.setcurrscore=function(e,t){this.p_nodeBanner.active=0!=t},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_BANNER_CTRAL,this.setcurrscore,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_BANNER_CTRAL,this.setcurrscore,this)},a([c(cc.Node)],t.prototype,"p_nodeBanner",void 0),a([l],t)}(slot.SlotBanner);n.default=p,cc._RF.pop()},{"./GameEventName111006101":"GameEventName111006101"}],ChangEImageEffectCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"4b7feJTWH5NpIEURpRpQdJW","ChangEImageEffectCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Sprite=[],t}return i(t,e),a([l([cc.SpriteFrame])],t.prototype,"Sprite",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],CommonNumAtlas111006101:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},a([s],t)}(slot.CommonNumAtlasBase));n.default=l,cc._RF.pop()},{}],FlamesSk111006101:[function(e,t,n){"use strict";cc._RF.push(t,"41616XEUjZJHbFQgcQHKoyN","FlamesSk111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){var e="skeleton/shui/"+(game.LanguageManager.getInstance().getCurLang()==game.LanguageType.ZH?"zh":"en")+"/long";slot.Property.setSpProperty(this.node.getComponent(sp.Skeleton),{json:e},slot.GData.bundleName)},a([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],GameBg111006101:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.BaseView));n.default=l,cc._RF.pop()},{}],GameEventName111006101:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111006101"),Object.defineProperty(n,"__esModule",{value:!0}),n.CabdyEvent=n.SOUND_NAME=n.SetScatterType=n.BannerCtrl=n.WinType=n.BgDongerAniType=n.DongerAniType=n.EventName=void 0,function(e){e.EVENT_BANNER_CTRAL="EVENT_BANNER_CTRAL",e.EVENT_GUNZHOU_SPINSTART="EVENT_GUNZHOU_SPINSTART",e.EVENT_GUNZHOU_END="EVENT_GUNZHOU_END",e.EVENT_ACCEPT_NETWORK_DATA="EVENT_ACCEPT_NETWORK_DATA",e.EVENT_SET_WIN_ITEM_EFFECT="EVENT_SET_WIN_ITEM_EFFECT",e.EVENT_SET_ElIMINATE_SCORE="EVENT_SET_ElIMINATE_SCORE",e.EVENT_SET_ElIMINATE_SCORE_CLOSE="EVENT_SET_ElIMINATE_SCORE_CLOSE",e.EVENT_SET_ToTal_SCORE="EVENT_SET_ToTal_SCORE",e.EVENT_SET_PROGRESS_NUMBER="EVENT_SET_PROGRESS_NUMBER",e.EVENT_PLAY_GREEENdRAGON_EFFECT="EVENT_PLAY_GREEENdRAGON_EFFECT",e.EVENT_CLOSE_GREEENdRAGON_EFFECT="EVENT_CLOSE_GREEENdRAGON_EFFECT",e.EVENT_PLAY_BULERAGON_EFFECT="EVENT_PLAY_BULERAGON_EFFECT",e.EVENT_CLOSE_BULERAGON_EFFECT="EVENT_CLOSE_BULERAGON_EFFECT",e.EVENT_PLAY_REDRAGON_EFFECT="EVENT_PLAY_REDRAGON_EFFECT",e.EVENT_CLOSE_REDRAGON_EFFECT="EVENT_CLOSE_REDRAGON_EFFECT",e.EVENT_CHANGE_IMAGE="EVENT_CHANGE_IMAGE",e.EVENT_DRAGON_EFFECT_ANI="EVENT_DRAGON_EFFECT_ANI",e.EVENT_IMAGE_PLAY_ROLL="EVENT_IMAGE_PLAY_ROLL",e.EVENT_STOP_CHANGE_IMAGE="EVENT_STOP_CHANGE_IMAGE",e.EVENT_CHANGE_IMAGE_PLAY_SPRINT="EVENT_CHANGE_IMAGE_PLAY_SPRINT",e.EVENT_CLOSE_LARGE_DRENGER="EVENT_CLOSE_LARGE_DRENGER",e.EVENT_BiGWIN_COMPLETE="EVENT_BiGWIN_COMPLETE",e.EVENT_LARGEDEONGE_STATE="EVENT_LARGEDEONGE_STATE",e.EVENT_CLEAR_SCATTER_EFFECT="EVENT_CLEAR_SCATTER_EFFECT",e.EVENT_CLEAR_All_LAST_GAME_DATA="EVENT_CLEAR_All_LAST_GAME_DATA",e.EVENT_OPEN_WIN_LAYOUT="EVENT_OPEN_WIN_LAYOUT",e.EVENT_CLOSE_WIN_LAYOUT="EVENT_CLOSE_WIN_LAYOUT",e.EVENT_CLOSE_BANNER_CALLBACK="EVENT_CLOSE_BANNER_CALLBACK"}(n.EventName||(n.EventName={})),function(e){e[e.feature_activate=1]="feature_activate",e[e.stomp=2]="stomp",e[e.breath_fire=3]="breath_fire",e[e.bigwin_pre=4]="bigwin_pre",e[e.bigwin_idle=5]="bigwin_idle"}(n.DongerAniType||(n.DongerAniType={})),function(e){e[e.idle=1]="idle",e[e.idle2=2]="idle2",e[e.idle3=3]="idle3",e[e.idle4=4]="idle4",e[e.idle5=5]="idle5",e[e.collect_idle=6]="collect_idle",e[e.collect_Exit_To_Idle=7]="collect_Exit_To_Idle"}(n.BgDongerAniType||(n.BgDongerAniType={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),function(e){e[e.BannerOpen=1]="BannerOpen",e[e.BannerClose=0]="BannerClose"}(n.BannerCtrl||(n.BannerCtrl={})),function(e){e[e.Rocket=9]="Rocket",e[e.Chocolates=10]="Chocolates",e[e.Cabdy=11]="Cabdy"}(n.SetScatterType||(n.SetScatterType={})),function(e){e.FreeGame_Back_Music="FreeGame_Back_Music",e.Free_Game_Settlement="Free_Game_Settlement",e.Free_Game_Settlement_End="Free_Game_Settlement_End",e.Wild_Expectation_Drop="Wild_Expectation_Drop",e.Wild_Expectation_Beat="Wild_Expectation_Beat",e.Wild_Expectation="Wild_Expectation",e.Free_Start_Sound="Free_Start_Sound",e.Free_Start_Appear="Free_Start_Appear",e.Free_Add_Sym="Free_Add_Sym",e.Free_Add="Free_Add",e.Role_Move="Role_Move",e.Role_Win_Move="Role_Win_Move",e.Mtp_Effect="Mtp_Effect",e.Mtp_Appear="Mtp_Appear",e.Symbol_Prize="Symbol_Prize",e.Textbox_01="Textbox_01",e.Textbox_Coin="Textbox_Coin",e.Textbox_02="Textbox_02",e.Fs_Mg_Prize="Fs_Mg_Prize",e.Reel_Stop="Reel_Stop",e.Reel_Stop_Quick="Reel_Stop_Quick",e.Fs_Start="Fs_Start",e.Prize_Big="Prize_Big",e.Prize_Big_End="Prize_Big_End",e.Symbol_Explode="Symbol_Explode",e.Reel_Click="Reel_Click"}(n.SOUND_NAME||(n.SOUND_NAME={})),function(e){e.EVENT_SET_CLEAR_NODE_SCORE="EVENT_SET_CLEAR_NODE_SCORE",e.EVENT_ACCEPT_NETWORK_DATA="EVENT_ACCEPT_NETWORK_DATA",e.EVENT_CLEAR_SCORE_NODE="EVENT_CLEAR_SCORE_NODE",e.EVENT_BANNER_CTOR="EVENT_BANNER_CTOR",e.EVENT_SET_TOTLE_SCORE_LABLE="EVENT_SET_TOTLE_SCORE_LABLE",e.EVENT_CREAT_SCATTER_BAR="EVENT_CREAT_SCATTER_BAR",e.EVENT_GUNZHOU_SPINCOMPLETE="EVENT_GUNZHOU_SPINCOMPLETE",e.EVENT_GUNZHOU_SPINSTART="EVENT_GUNZHOU_SPINSTART",e.EVENT_JUDGE_COMBINATION="EVENT_JUDGE_COMBINATION",e.EVENT_CHANGE_IMAGE="EVENT_CHANGE_IMAGE",e.EVENT_CHANGE_IMAGE_ID="EVENT_CHANGE_IMAGE_ID",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_ADD_FREE_GAME_NUM="EVENT_ADD_FREE_GAME_NUM",e.ROLL_END_STEP_TASK="ROLL_END_STEP_TASK",e.OPEN_WIN_MULTIP_EFFECT="OPEN_WIN_MULTIP_EFFECT",e.CLOSE_WIN_MULTIP_EFFECT="CLOSE_WIN_MULTIP_EFFECT",e.OPEN_FREE_GAME_BANNER="OPEN_FREE_GAME_BANNER",e.CLOSE_FREE_GAME_BANNER="CLOSE_FREE_GAME_BANNER",e.CLOSE_SCORE_LABLE="CLOSE_SCORE_LABLE",e.FREEGAME_NETWORK_STATE="FREEGAME_NETWORK_STATE",e.OPEN_WIN_TITLE_WORLD_TWO_MULT="OPEN_WIN_TITLE_WORLD_TWO_MULT",e.CLOSE_WIN_TITLE_WORLD_TWO_MULT="OPEN_WIN_TITLE_WORLD_TWO_MULT",e.CLOSE_FREEGAME_END_TOTLE_SCORE="CLOSE_FREEGAME_END_TOTLE_SCORE",e.INIT_BEAR_POS="INIT_BEAR_POS",e.SET_BANNER_SCORE="SET_BANNER_SCORE",e.SET_NORAMAL_TITLEBAG="SET_NORAMAL_TITLEBAG",e.CLEAR_BEAR_END="CLEAR_BEAR_END"}(n.CabdyEvent||(n.CabdyEvent={})),cc._RF.pop()},{}],GameLayer111006101:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,i++)o[i]=a[r];return o};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../main/GameEventName111006101"),l=e("../main/Main111006101"),c=e("../tool/Tool"),p=e("./scrollerSkins/JTChildManager111006101"),_=e("./scrollerSkins/JTLayerManager111006101"),g=e("./scrollerSkins/JTLogicFactroy111006101"),d=e("./ProgressBarCtrl"),h=cc._decorator,u=h.ccclass,E=h.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roller=null,t.rollMarsk=null,t.rollMarskRed=null,t.winTimesView=null,t.win_layout=null,t.Sprite_Bigwin_Mw=null,t.bigWinLayerIsThat=!1,t.scatterDopGapTime=.1,t.scatterDopWaitTime=.1,t.freeGameTimesState=!1,t.totalEliminateTime=0,t.spinWildNum=0,t.clickReelStopPlay=!1,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.addMarskTime=!0,t.curr_proto_data=null,t.onCbOnce=!0,t.fristElim=!0,t.FristEnterDragone=!1,t.LargeDragonMode=!1,t.stepTaskCallBcak=null,t.ShowViewNode=null,t.FreeGameNetWordState=!1,t}var n;return i(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this)},t.prototype.onLoad=function(){n._instance=this,slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.setMousePos,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.winCoinLabelStop,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.bigWinTextShow,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_HIDE,this.bigWinTextHide,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_LAST_HIDE,this.bigWinTextLastHide,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.reelCloseWidos,this),game.EventManager.getInstance().addEventListener(s.CabdyEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_OPEN_WIN_LAYOUT,this.OpenWinLayout,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_CLOSE_WIN_LAYOUT,this.CloseWinLayout,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_GOLDNOTENOUGH_OKBTN,this.tipShowCallBack,this),game.EventManager.getInstance().addEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.onSlfeCloseLoadingView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.newElemDropEnd,this)},t.prototype.onDestroy=function(){this.dispose(),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.setMousePos,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_SHOW,this.bigWinTextShow,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_HIDE,this.bigWinTextHide,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_BIGWIN_TEXT_LAST_HIDE,this.bigWinTextLastHide,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WIN_ANI_END,this.winAniEnd,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_COIN_SCROLLER_END,this.winCoinLabelStop,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.reelClick,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.reelCloseWidos,this),game.EventManager.getInstance().removeEventListener(s.CabdyEvent.ROLL_END_STEP_TASK,this.stepTask,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.event_stop_slot_machine_immediately,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_OPEN_WIN_LAYOUT,this.OpenWinLayout,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_CLOSE_WIN_LAYOUT,this.CloseWinLayout,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_GOLDNOTENOUGH_OKBTN,this.tipShowCallBack,this),game.EventManager.getInstance().removeEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.onSlfeCloseLoadingView,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.newElemDropEnd,this)},t.prototype.start=function(){this.win_layout.parent=slot.SlotMachineView.instance.node,this.win_layout.zIndex=1,this.win_layout.active=!1,this.win_layout.x=380,this.win_layout.y=-325,this.rollMarskRed.active=!1},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),console.log("oninit"),this.slotMachine.settings.setRunSequence([2,[1,3],[0,4]]),slot.SpinManager.customResultCallBack=function(){return console.log("\u7cd6\u679c\u6d88\u9664\u7c7b\u578b\uff08\u9002\u7528\u4e8e\u6d88\u9664\u7c7b)----------------:",slot.SpinManager.instance.customUpdateData),slot.SpinManager.instance.customUpdateData.game_10017.data.resultList}},t.prototype.onInitScroller=function(e){var t=this.scroller=e.scroller,n=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);t.setupFactory(new _.default,new p.default,new g.default),slot.JTDefaultItemRender.setPlayCoinIndex(2,7);var o=t.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,n.column,e.scrollingComplete);o.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),o.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),o.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),o.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),t.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),slot.JTDefaultItemRender.setPlayCoinIndex(1,7),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),this.scatterTask=new slot.JTScatterTask,this.scatterTask.callScatterComplete=function(){c.default.getAllDataInRoller().forEach(function(e){e.closeMarsk()})}.bind(this),this.scatterTask.config(12,2,"30-55-1",0,1e3,null,!0,null,function(){},slot.JTScatterTask.ITEM_COUNT_MODE,null,!1,!1),t.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer)},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime,.01,this.scatterDopGapTime,this.scatterDopWaitTime),this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=150.5,this.slotMachine.gridHeight=130,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype._onSpinSlotRender=function(){},t.prototype._rederAfter=function(){var e=this;slot.SpinManager.instance.spinTouchEnable=!0,this.addMarskTime&&(this.addMarskTime=!1);for(var t=c.default.getAllDataInRoller(),n=0;n<t.length;n++)t[n]._showFrameAniView(slot.SlotMachineView.instance,n);setTimeout(function(){return e.getRenders(-1).forEach(function(e){return e.playWileEffect2()})},1e3)},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},t.prototype._onRollingResp=function(e,t){c.default.respData=t,this.curr_proto_data=t,console.log("\u8bf7\u6c42\u4e0b\u53d1\u534f\u8bae",t),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_ACCEPT_NETWORK_DATA,this.curr_proto_data),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_CLEAR_All_LAST_GAME_DATA),this.ShowViewNode&&(this.ShowViewNode.opacity=0),this.rollMarskRed.active=!1},t.prototype._onSpinBegin=function(){console.log("_onSpinBegin"),this.spinWildNum=0,this.totalEliminateTime=0,this.fristElim=!0,this.clickReelStopPlay=!1,this.getRenders(-1).forEach(function(e){return e.onDataOrStageChange()}),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_CLEAR_All_LAST_GAME_DATA),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_CLOSE_BANNER_CALLBACK)},t.prototype._onSpinStart=function(e){3==e&&(this.ShowViewNode&&(this.ShowViewNode.opacity=0),this.rollMarskRed.active=!1),3==e&&(game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_GUNZHOU_SPINSTART),this.LargeDragonMode=!1)},t.prototype._onSpinStop=function(e,t,n){var o=this;slot.GameControlBase.instance.fastBtnState,this.fristElim&&(this.scroller.getItem(e).renders.forEach(function(e){9==e.data&&(o.spinWildNum++,e.playWileEffect(o.spinWildNum))}),n||(slot.SpinManager.instance.isInTurbo?2==e&&slot.SoundMger.instance.playEffect("Reel_Stop_03",!1):2==e?slot.SoundMger.instance.playEffect("Reel_Stop_00",!1):1==e||3==e?slot.SoundMger.instance.playEffect("Reel_Stop_01",!1):0!=e&&4!=e||slot.SoundMger.instance.playEffect("Reel_Stop_02",!1)))},t.prototype._onSpinComplete=function(){console.log("_onSpinComplete"),this.totalEliminateTime=0,this.bigWinLayerIsThat=!1,this.FristEnterDragone=!1,game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_GUNZHOU_END),(this.curr_proto_data&&this.curr_proto_data.spinResult.spinCoin.low||0)>0&&(slot.SoundMger.instance.stopEffect("Earth_Dragon_Mode_Sound_Effects"),slot.SoundMger.instance.stopEffect("Water_Dragon_Mode_Sound_Effect"),slot.SoundMger.instance.stopEffect("Fire_Dragon_Mode_Sound"),slot.SoundMger.instance.stopEffect("Dragon_Mode_Sound"),slot.SoundMger.instance.setSingleMusicVolume("Game_Back_Music",.4));var e=this.node.getComponent(d.default),t=e.progress_number;cc.log("progress_number"+t),50<=t&&t<70&&e.setBgLargeDragonAni("",s.BgDongerAniType.collect_Exit_To_Idle)},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.playwinnAni(slot.WinAniType.Normal,e,t)},t.prototype._playFullLineAnimation=function(e,t){t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){this.playwinnAni(slot.WinAniType.Great,e,t)},t.prototype._playMiddleRewardsAnimation=function(e,t){this.playwinnAni(slot.WinAniType.Middle,e,t)},t.prototype._playSmallRewardsAnimation=function(e,t){this.playwinnAni(slot.WinAniType.Small,e,t)},t.prototype.playwinnAni=function(e,t,n){var o=this,i=slot.Handler.create(this,function(){o.showWinAniView(e,t,slot.Handler.create(o,function(){game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_SET_ToTal_SCORE),n.run()}))});this.LargeDragonMode&&e!=slot.WinAniType.Normal?this.node.getComponent(d.default)._dragonBeforeBigWin(i):i.run()},t.prototype.bigWinTextShow=function(){},t.prototype.bigWinTextHide=function(){},t.prototype.winCoinLabelStop=function(){},t.prototype.bigWinTextLastHide=function(){},t.prototype.winAniEnd=function(){console.log("WinAnimanager111006101 winAniEnd 11")},t.prototype.onSlfeCloseLoadingView=function(){setTimeout(function(){return slot.SoundMger.instance.setSingleMusicVolume("Game_Back_Music",.4)},0)},t.prototype.event_stop_slot_machine_immediately=function(){this.clickReelStopPlay||(this.clickReelStopPlay=!0,slot.SoundMger.instance.playEffect("Reel_Stop_03",!1))},t.prototype.setMousePos=function(e,t){c.default.respData=t},t.prototype.getElimintcrushTaskState=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].crushTask){for(var n=[],o=t[e].crushTask,i=0;i<o.length;i++){var a=o[i].id,r=o[i].isReward,s=!1;1===a?(s=!!r,n.push({id:1,skill_state:s})):2===a?(s=!!r,n.push({id:2,skill_state:s})):3===a?(s=!!r,n.push({id:3,skill_state:s})):4===a&&(s=!!r,n.push({id:4,skill_state:s}))}return n}},t.prototype.playPrizeAni=function(e,t,n,o){var i=this;this.playGoldAni(e,t,n,o),this.fristElim&&(this.fristElim=!1,this.scroller.getItem(4).renders.forEach(function(e){9==e.data&&(i.spinWildNum++,e.playWileEffect(i.spinWildNum))}))},t.prototype.playGoldAni=function(e,t,n,o){this.changeItemAni(e,t,n,o)},t.prototype.changeItemAni=function(e,t,n,o){var i=this;console.log("\u6d88\u9664\u7684\u6570\u636e777777777777777777777",e,this.totalEliminateTime);var a=this.getElimintcrushTaskState(this.totalEliminateTime),r=1.5;if(a&&a.length>0){for(var l=0;l<a.length;l++)if(1==a[l].id){if(a[l].skill_state){console.log("\u89e6\u53d1\u6280\u80fd\u89e6\u53d1\u6280\u80fd1"),r=2.5;break}}else if(2==a[l].id){if(a[l].skill_state){console.log("\u89e6\u53d1\u6280\u80fd\u89e6\u53d1\u6280\u80fd2"),r=4.2;break}}else if(3==a[l].id){if(a[l].skill_state){console.log("\u89e6\u53d1\u6280\u80fd\u89e6\u53d1\u6280\u80fd3"),r=4;break}}else if(4==a[l].id&&a[l].skill_state){console.log("\u89e6\u53d1\u6280\u80fd\u89e6\u53d1\u6280\u80fd4"),this.LargeDragonMode=!0,this.FristEnterDragone?r=4.45:(this.FristEnterDragone=!0,r=10.4);break}}else console.log("\u6e38\u620f\u91ca\u653e\u6280\u80fd\u5224\u65ad\u8868\u51fa\u9519\u4e86");game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_SET_WIN_ITEM_EFFECT,this.totalEliminateTime,a),setTimeout(function(){game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_SET_ElIMINATE_SCORE_CLOSE,i.totalEliminateTime),setTimeout(function(){var e=Number(o.curSpinCoin),t=slot.PlayerManager.instance.showCoin+e;slot.PlayerManager.instance.syncShowingCoin(Number(t)),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_UPDATE_WINSCORE,e,!1,!0,null,null,!0)},200)},1100),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_LARGEDEONGE_STATE,this.LargeDragonMode),cc.tween(this).delay(r).call(function(){for(var n=0;n<o.lineResult.length;n++)i.slotMachine.scroller.lineParser.showLine(o.lineResult[n].lineId,!1);i.elePlayAni(e,t,i.totalEliminateTime)}).start(),c.default.eliminateTime++,this.totalEliminateTime++},t.prototype.elePlayAni=function(e,t,n){var o=this;console.log("elePlayAni",n),this.CloseWinLayout();for(var i=0;i<e.length;i++)e[i].skinLoader.url=null;t.run();var a=!1,r=this.getElimintcrushTaskState(n-1);if(r&&r.length>0)for(var s=0;s<r.length;s++)r[s].skill_state&&(a=!0);if(!a){var l=cc.delayTime(.85),c=cc.callFunc(function(){o.setClearItemCompletegrideScterr(n-1)});this.node.runAction(cc.sequence(l,c))}},t.prototype.stepTask=function(e,t){1==slot.GameControlBase.instance.fastBtnState?this.scheduleOnce(function(){t.run()},.4):this.freeGameTimesState?(this.scheduleOnce(function(){t.run()},3),this.freeGameTimesState=!1):t.run()},t.prototype.OpenWinLayout=function(){cc.Tween.stopAllByTarget(this.win_layout),cc.tween(this.win_layout).set({active:!0,opacity:0}).to(.2,{opacity:160}).start()},t.prototype.CloseWinLayout=function(){cc.Tween.stopAllByTarget(this.win_layout),cc.tween(this.win_layout).delay(.6).to(.2,{opacity:0}).set({active:!1}).start()},t.prototype.reelClick=function(e,t,n,o,i,a){cc.Tween.stopAllByTarget(this.rollMarskRed),cc.tween(this.rollMarskRed).set({active:!0}).to(.2,{opacity:150}).start(),this.rollMarskRed.x=0,this.rollMarskRed.y=-5,a.opacity=255,this.ShowViewNode=a,i?a.getComponent(slot.SpinElementView).elementSk.node.x+=2:a.getComponent(slot.SpinElementView).elementSk.node.x-=2,9==t?slot.SoundMger.instance.playEffect("Dragon_mode_dragon_sound_05",!1):8==t?slot.SoundMger.instance.playEffect("Dragon_mode_dragon_sound",!1):7==t?slot.SoundMger.instance.playEffect("Dragon_mode_dragon_sound_01",!1):6==t?slot.SoundMger.instance.playEffect("Dragon_mode_dragon_sound_02",!1):5==t?slot.SoundMger.instance.playEffect("Dragon_mode_dragon_sound_03",!1):slot.SoundMger.instance.playEffect("Dragon_mode_dragon_sound_04",!1)},t.prototype.reelCloseWidos=function(){cc.Tween.stopAllByTarget(this.rollMarskRed),cc.tween(this.rollMarskRed).to(.2,{opacity:0}).set({active:!1}).start()},t.prototype.getNoGoldListScatterAlllist=function(){var e=slot.GData.getParameter("DataGame").data[111006101].gridDetail,t=[];if(e&&e.length)for(var n=0;n<e.length;n++)9==e[n]&&t.push(n);return t},t.prototype.setClearItemCompletegrideScterr=function(e){var t=this.getElimintateChangeGride(e),n=this.getElimintChangeGrideOfScatter(t);n&&n.length&&n.length>0&&cc.tween(this.node).delay(1).call(function(){}).start()},t.prototype.getElimintateChangeGride=function(e){var t=this.curr_proto_data.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.gridChanged},t.prototype.getElimintChangeGrideOfScatter=function(e){var t=[];if(e&&e.length)for(var n=0;n<e.length;n++)9==e[n]&&t.push(n);return t},t.prototype.tipShowCallBack=function(){},t.prototype.getCurListScatterlist=function(e){var t=[];if(this.curr_proto_data&&this.curr_proto_data.spinResult)for(var n=this.curr_proto_data.spinResult.grid,o=[5*e,5*e+5],i=o[0];i<o[1];i++)9==n[i]&&t.push(i);return t},t.prototype.getCurListScatterAlllist=function(){var e=[];if(this.curr_proto_data&&this.curr_proto_data.spinResult)for(var t=this.curr_proto_data.spinResult.grid,n=0;n<t.length;n++)9==t[n]&&e.push(n);return e},t.prototype.refreshRoom=function(){},t.prototype.newElemDropEnd=function(){slot.SoundMger.instance.playEffect("fall_01",!1)},t.prototype.getRenders=function(e){var t=this.slotMachine.scroller.items,n=[];return t.forEach(function(e){var t=e.renders;n.push.apply(n,t)}),r(-1===e?n:n.slice(5*e,5*e+5))},t.prototype.addFreeSpinsAni=function(e,t,n){void 0===t&&(t=null),console.log("\u8fdb\u5165\u4e86\u514d\u8d39\u6e38\u620f",t),n.run()},t.prototype.onInitFreeGame=function(e,t){switch(console.log("oniniffreegame",e),e.type){case slot.OperationState.Free:slot.SoundMger.instance.stopMusic("Game_Back_Music"),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0);var n=e.times;game.EventManager.getInstance().raiseEvent(s.CabdyEvent.FREEGAME_NETWORK_STATE,!0),game.EventManager.getInstance().raiseEvent(s.CabdyEvent.FREE_GAME_START,n);break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){switch(console.log("onFreeGameTriggered",e),e.type){case slot.OperationState.Free:console.log("onFreeGameTriggeredFREE_GAME_START");break;case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){switch(console.log("\u514d\u8d39\u6e38\u620f\u7ed3\u675f",e),e.type){case slot.OperationState.Free:var n=slot.Handler.create(this,function(){return t.runWith(!0)});this.scheduleOnce(function(){return game.UIManager.getInstance().open(l.UIID.FREE_GAME_RESULT,[n,e])},1);break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTriggerAgain=function(e,t){switch(console.log("onFreeGameTriggerAgain",e),e.type){case slot.OperationState.Free:t.run();break;case slot.OperationState.ReSpin:}},t.prototype.onFreeGameTimesUpdated=function(){},t.prototype.onBonusGameTriggered=function(e,t){t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0)},t._instance=null,a([E(cc.Node)],t.prototype,"roller",void 0),a([E(cc.Node)],t.prototype,"rollMarsk",void 0),a([E(cc.Node)],t.prototype,"rollMarskRed",void 0),a([E(cc.Node)],t.prototype,"winTimesView",void 0),a([E(cc.Node)],t.prototype,"win_layout",void 0),a([E(cc.Node)],t.prototype,"Sprite_Bigwin_Mw",void 0),n=a([u],t)}(slot.AbstractMainView);n.default=f,cc._RF.pop()},{"../main/GameEventName111006101":"GameEventName111006101","../main/Main111006101":"Main111006101","../tool/Tool":"Tool","./ProgressBarCtrl":"ProgressBarCtrl","./scrollerSkins/JTChildManager111006101":"JTChildManager111006101","./scrollerSkins/JTLayerManager111006101":"JTLayerManager111006101","./scrollerSkins/JTLogicFactroy111006101":"JTLogicFactroy111006101"}],GameRoller111006101:[function(e,t,n){"use strict";cc._RF.push(t,"abb6bi47QpMaoarOAE3uHhF","GameRoller111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../main/GameEventName111006101"),s=cc._decorator,l=s.ccclass,c=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_scoreLable=null,t.p_scoreTotleLable=null,t.frist_enter_game=!0,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this)},t.prototype.updateWinSorce=function(e,t){this.frist_enter_game&&(t>0?(this._setLabMoney(t),this.frist_enter_game=!1):game.EventManager.getInstance().raiseEvent(r.CabdyEvent.EVENT_BANNER_CTOR,1))},t.prototype._setLabMoney=function(){},t.prototype.getScoreMult=function(e){var t=slot.SlotUtils.formatNumber(e),n=slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost);return Number(t)/Number(n)},a([c(cc.Node)],t.prototype,"p_scoreLable",void 0),a([c(cc.Node)],t.prototype,"p_scoreTotleLable",void 0),a([l],t)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../main/GameEventName111006101":"GameEventName111006101"}],JTChildManager111006101:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111006101"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111006101":"SpinSlotViewExtend111006101"}],JTLayerManager111006101:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e),o=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var i=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,i);var a=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),r=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e),s=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e),l=(this.addChildNode(t.FRAME_IMAGE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e));this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),i.launch(e),s.setup(e.config.getWidth(),e.config.getHeight(),0),o.setup(e.config.getWidth(),e.config.getHeight(),160),n.setupMask(e.config.getWidth(),e.config.getHeight()),a.setupMask(e.config.getWidth(),e.config.getHeight()),r.setupMask(e.config.getWidth(),e.config.getHeight()),l.setupMask(e.config.getWidth(),e.config.getHeight())},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t}(slot.JTLayerFactory);n.default=a,cc._RF.pop()},{}],JTLogicFactroy111006101:[function(e,t,n){"use strict";cc._RF.push(t,"045e8hMhx1Mv6JCUAsS9oLb","JTLogicFactroy111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./JTTest111006101"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(r.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1)},a([l],t)}(slot.JTLogicFactroy));n.default=c,cc._RF.pop()},{"./JTTest111006101":"JTTest111006101"}],JTTest111006101:[function(e,t,n){"use strict";cc._RF.push(t,"fc79arM6IJHrZhh+K3BgNv1","JTTest111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../main/GameEventName111006101"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(r.CabdyEvent.ROLL_END_STEP_TASK)},a([l],t)}(slot.JTPerformanceTask));n.default=c,cc._RF.pop()},{"../../main/GameEventName111006101":"GameEventName111006101"}],LanguageInfo111006101:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},a([s],t)}(slot.LanguageInfoBase));n.default=l,cc._RF.pop()},{}],Main111006101:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111006101");var o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,l=e("../roller/WinAnimanager111006101"),c=cc._decorator,p=c.ccclass,_=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>"),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return l.default},r([p],t)}(slot.MainView));n.default=_,function(e){e[e.BONUS_GAME_POPUP=210101]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=210102]="FREE_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.BONUS_GAME_POPUP]={bundleName:"game_111006101",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.FREE_GAME_RESULT]={bundleName:"game_111006101",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{"../roller/WinAnimanager111006101":"WinAnimanager111006101"}],NumAtlasLabel111006101:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.CommonNumAtlasBase));n.default=l,cc._RF.pop()},{}],ParticleSpriteFramesRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"6419eyxf2tGuaDKiPegRioS","ParticleSpriteFramesRefresh");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return i(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},a([l({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([l({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],ProgressBarCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"6d7f5KtsTpAt6iw/HEm0aBD","ProgressBarCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../main/GameEventName111006101"),s=e("../main/NumAtlasLabel111006101"),l=cc._decorator,c=l.ccclass,p=l.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_progressBarred=null,t.p_progressBaryellow=null,t.p_progressBargreen=null,t.p_progressBarbule=null,t.p_greendragon=null,t.p_buledragoe=null,t.p_reddragon=null,t.p_hugeDonger=null,t.p_hugeDonger_body=null,t.p_hugeDonger_head=null,t.p_donger_enter_effect=null,t.p_progresLaber=null,t.p_progressNode=null,t.p_bgtitle1=null,t.p_bgtitle2=null,t.p_bgtitle3=null,t.p_movereddragonpoint=null,t.p_smalllong_body_pos=null,t.p_smalllong_head_pos=null,t.p_smallLongclaw_pos=null,t.record_Progress_number=null,t.buleDragoneState=null,t.pross_bar_green=null,t.pross_bar_bule=null,t.pross_bar_red=null,t.pross_bar_yellow=null,t.progressgreeeggpos=null,t.progressbuleeggpos=null,t.progressredeggpos=null,t.last_gree_pot=0,t.greenDragoneState=!1,t.last_bule_pot=0,t.last_red_pot=0,t.last_yellow_pot=0,t.sign_number=0,t.progress_number=0,t.ProgressCollectiongNum=[10,30,50,70],t.fristTitlePlay=!0,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.EVENT_SET_PROGRESS_NUMBER,this.setProgressNumberCtrl,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_GUNZHOU_SPINSTART,this.ClearAllNode,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_GREEENdRAGON_EFFECT,this.playGreenDragoneffect,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CLOSE_GREEENdRAGON_EFFECT,this.closeGreenDragoneffect,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_DRAGON_EFFECT_ANI,this.setupDragonEffectCtrl,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_BULERAGON_EFFECT,this.playBuleDragoneffect,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CLOSE_BULERAGON_EFFECT,this.closeBuleDragoneffect,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_PLAY_REDRAGON_EFFECT,this.playRedDragoneffect,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CLOSE_REDRAGON_EFFECT,this.closeRedDragoneffect,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CLOSE_LARGE_DRENGER,this._dragonCloseeffect,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CLEAR_All_LAST_GAME_DATA,this.ClearAllNode,this),this.initProgressNodePoint()},t.prototype.start=function(){var e=this;this.getStarProgressGreenBaraniPoint(),this.getStarProgressBuleBaraniPoint(),this.getStarProgressRedBaraniPoint(),this.getStarProgressYellowBaraniPoint(),this.p_greendragon.opacity=0,this.p_buledragoe.opacity=0,this.p_reddragon.opacity=0,this.p_hugeDonger_body.opacity=0,this.p_hugeDonger_head.opacity=0,this.p_donger_enter_effect.opacity=0,this.initProgressBar(),this.setBgLargeDragonIdle(),this.schedule(function(){if("idle"==e.p_hugeDonger.getComponent(sp.Skeleton).animation){var t=Math.floor(5*Math.random()+1);e.setBgLargeDragonAni("",t)}},10)},t.prototype.initProgressBar=function(){this.p_progressBargreen.opacity=255,this.p_progressBargreen.getChildByName("bar_ain").opacity=0,this.p_progressBarbule.getChildByName("bar_ain").opacity=0,this.p_progressBarred.getChildByName("bar_ain").opacity=0,this.p_progressBaryellow.getChildByName("bar_ain").opacity=0,this.p_progressBargreen.getComponent(cc.ProgressBar).progress=0,this.p_progressBarbule.getComponent(cc.ProgressBar).progress=0,this.p_progressBarred.getComponent(cc.ProgressBar).progress=0,this.p_progressBaryellow.getComponent(cc.ProgressBar).progress=0;var e=this.p_progressBargreen.getChildByName("layout_gree").getChildByName("greenegg");"gr_idle"!=e.getComponent(sp.Skeleton).animation&&e.getComponent(sp.Skeleton).setAnimation(0,"gr_idle",!0),e.opacity=255;var t=this.p_progressBargreen.getChildByName("layout_blue").getChildByName("blueegg");"bl_idle_lineup"!=t.getComponent(sp.Skeleton).animation&&t.getComponent(sp.Skeleton).setAnimation(0,"bl_idle_lineup",!0);var n=this.p_progressBargreen.getChildByName("layput_red").getChildByName("redegg");"rd_idle_lineup"!=n.getComponent(sp.Skeleton).animation&&n.getComponent(sp.Skeleton).setAnimation(0,"rd_idle_lineup",!0),this.p_progressBarbule.opacity=0,this.p_progressBarred.opacity=0,this.p_progressBaryellow.opacity=0,this.p_greendragon.opacity=0,this.p_buledragoe.opacity=0,this.p_reddragon.opacity=0,this.p_progresLaber.getComponent(s.default).string="0/10",this.record_Progress_number=null,this.p_greendragon.setPosition(this.progressgreeeggpos),this.p_buledragoe.setPosition(this.progressbuleeggpos),this.p_reddragon.setPosition(this.progressredeggpos),this.last_yellow_pot=0,this.last_red_pot=0,this.last_gree_pot=0,this.last_bule_pot=0;var o=this.p_hugeDonger.getComponent(sp.Skeleton).animation;"idle"!=o&&"idle2"!=o&&"idle3"!=o&&"idle4"!=o&&"idle5"!=o&&this.setBgLargeDragonAni("",r.BgDongerAniType.idle),this.setSmallDrongeeffect("idle",!0),this.initProgressBarPoint(),this.initSmallDrongepoint(),this.p_progresLaber.setPosition(this.node.getChildByName("progressImgNode").getChildByName("progress_green_lable_point").getPosition())},t.prototype.initProgressNodePoint=function(){this.recordProgressBarGreeNodePoint(),this.recordProgressBarBlueNodePoint(),this.recordProgressBarRedNodePoint(),this.recordProgressBarYellowNodePoint()},t.prototype.initSmallDrongepoint=function(){var e=this.p_progressBaryellow.getChildByName("effect_long"),t=this.p_progressBaryellow.getChildByName("effect_long_claw"),n=this.p_progressBaryellow.getChildByName("effect_long_head");e.setPosition(this.p_smalllong_body_pos.getPosition()),t.setPosition(this.p_smallLongclaw_pos.getPosition()),n.setPosition(this.p_smalllong_head_pos.getPosition())},t.prototype.initProgressBarPoint=function(){this.p_progressBargreen.getChildByName("bar_ain").setPosition(this.pross_bar_green),this.p_progressBarbule.getChildByName("bar_ain").setPosition(this.pross_bar_bule),this.p_progressBarred.getChildByName("bar_ain").setPosition(this.pross_bar_red),this.p_progressBaryellow.getChildByName("bar_ain").setPosition(this.pross_bar_yellow)},t.prototype.getStarProgressGreenBaraniPoint=function(){this.pross_bar_green=this.p_progressBargreen.getChildByName("bar_ain").getPosition()},t.prototype.getStarProgressBuleBaraniPoint=function(){this.pross_bar_bule=this.p_progressBarbule.getChildByName("bar_ain").getPosition()},t.prototype.getStarProgressRedBaraniPoint=function(){this.pross_bar_red=this.p_progressBarred.getChildByName("bar_ain").getPosition()},t.prototype.getStarProgressYellowBaraniPoint=function(){this.pross_bar_yellow=this.p_progressBaryellow.getChildByName("bar_ain").getPosition()},t.prototype.recordProgressBarGreeNodePoint=function(){this.progressgreeeggpos=this.p_greendragon.getPosition()},t.prototype.recordProgressBarBlueNodePoint=function(){this.progressbuleeggpos=this.p_buledragoe.getPosition()},t.prototype.recordProgressBarRedNodePoint=function(){this.progressredeggpos=this.p_reddragon.getPosition()},t.prototype.recordProgressBarYellowNodePoint=function(){},t.prototype.recordProgressGreenCtrl=function(e){var t=this,n=this.p_progressBargreen.getComponent(cc.ProgressBar),o=this.p_progressBargreen.getChildByName("layout_gree").getChildByName("greenegg").getComponent(sp.Skeleton);if(e<10){var i=e/10;n.progress=i,o.node.opacity=255,e<7?"gr_idle2"!=o.animation&&o.setAnimation(0,"gr_idle2",!0):"gr_idle3"!=o.animation&&o.setAnimation(0,"gr_idle3",!0);var a=330*(i-this.last_gree_pot),r=this.p_progressBargreen.getChildByName("bar_ain");r.opacity=255,r.x+=a,this.last_gree_pot=i}else{n.progress=1;var l=this.p_progressBargreen.getChildByName("bar_ain");l.x=46,setTimeout(function(){n.progress=0,l.opacity=0,t.p_progresLaber.getComponent(s.default).string="10/30",t.p_greendragon.opacity=255,cc.tween(t.p_greendragon).set({x:40,y:468}).to(.2,{x:21,y:515}).to(.2,{x:3.396,y:446}).start(),t.p_greendragon.getComponent(sp.Skeleton).setAnimation(0,"feat_spawn",!1),t.p_greendragon.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_greendragon.getComponent(sp.Skeleton).setCompleteListener(null),t.p_greendragon.getComponent(sp.Skeleton).setAnimation(0,"feat_idle",!0)}),t.greenDragoneState=!0},400),o.setAnimation(0,"gr_hatch",!1),slot.SoundMger.instance.playEffect("The_Sound_Effect_When_The_Earth_Dragon",!1),o.setCompleteListener(function(){if("gr_hatch"==o.animation){slot.SoundMger.instance.playEffect("Earth_Dragon_Mode_Sound_Effects",!0),slot.SoundMger.instance.setSingleMusicVolume("Game_Back_Music",0),o.node.opacity=0,t.p_progressBargreen.opacity=0,t.p_progressBarbule.opacity=255,t.p_progresLaber.setPosition(t.node.getChildByName("progressImgNode").getChildByName("progress_bule_lable_point").getPosition());var e=t.record_Progress_number;if(e<30){var n=t.p_progressBarbule.getComponent(cc.ProgressBar),i=t.p_progressBarbule.getChildByName("bar_ain"),a=n.progress,r=i.x;cc.tween(n).set({progress:0}).to(.4,{progress:a}).start(),cc.tween(i).set({x:-302}).to(.4,{x:r}).start(),cc.tween({num:10}).to(.4,{num:e},{progress:function(e,n,o,i){t.p_progresLaber.getComponent(s.default).string=Math.round(cc.misc.lerp(e,n,i))+"/30"}}).start()}}})}},t.prototype.playGreenDragoneffect=function(){var e=this;setTimeout(function(){e.p_greendragon.opacity=255,slot.SoundMger.instance.playEffect("Tulong_Mode_Sound_Effect_When_Tulong_Jumps",!1),e.p_greendragon.getComponent(sp.Skeleton).setAnimation(0,"feat_win",!1),e.p_greendragon.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_greendragon.getComponent(sp.Skeleton).setCompleteListener(null),setTimeout(function(){e.p_greendragon.getComponent(sp.Skeleton).setAnimation(0,"feat_win",!1),e.p_greendragon.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_greendragon.getComponent(sp.Skeleton).setCompleteListener(null),setTimeout(function(){e.p_greendragon.getComponent(sp.Skeleton).setAnimation(0,"feat_win",!1),e.p_greendragon.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_greendragon.getComponent(sp.Skeleton).setCompleteListener(null),e.p_greendragon.getComponent(sp.Skeleton).addAnimation(0,"feat_idle",!0)})},400)})},300)})},200)},t.prototype.closeGreenDragoneffect=function(){var e=this;this.p_greendragon.getComponent(sp.Skeleton).setAnimation(0,"feat_exit",!1),this.p_greendragon.getComponent(sp.Skeleton).setCompleteListener(function(){"feat_exit"===e.p_greendragon.getComponent(sp.Skeleton).animation&&(e.p_greendragon.opacity=0,e.greenDragoneState=!1)})},t.prototype.playBuleDragoneffect=function(){var e=this;this.p_buledragoe.opacity=255,this.p_buledragoe.getComponent(sp.Skeleton).setAnimation(0,"feat_win",!1),this.p_buledragoe.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_buledragoe.getComponent(sp.Skeleton).setCompleteListener(null),e.p_buledragoe.getComponent(sp.Skeleton).addAnimation(0,"feat_idle",!0)})},t.prototype.closeBuleDragoneffect=function(){var e=this;this.p_buledragoe.getComponent(sp.Skeleton).setAnimation(0,"feat_exit",!1),this.p_buledragoe.getComponent(sp.Skeleton).setCompleteListener(function(){"feat_exit"===e.p_buledragoe.getComponent(sp.Skeleton).animation&&(e.buleDragoneState=!1,e.p_buledragoe.opacity=0)})},t.prototype.playRedDragoneffect=function(){this.p_reddragon.opacity=255,slot.SoundMger.instance.playEffect("moan",!1),this.p_reddragon.getComponent(sp.Skeleton).setAnimation(0,"feat_win",!1),this.p_reddragon.getComponent(sp.Skeleton).addAnimation(0,"feat_idle",!0)},t.prototype.closeRedDragoneffect=function(){var e=this;this.p_reddragon.getComponent(sp.Skeleton).setAnimation(0,"feat_exit",!1),this.p_reddragon.getComponent(sp.Skeleton).setCompleteListener(function(){"feat_exit"===e.p_reddragon.getComponent(sp.Skeleton).animation&&(e.p_reddragon.opacity=0)})},t.prototype.recordProgressBuleCtrl=function(e){var t=this,n=this.p_progressBarbule.getComponent(cc.ProgressBar),o=this.p_progressBarbule.getChildByName("layout_blue").getChildByName("blueegg").getComponent(sp.Skeleton);if(e<30){var i=((e-10)/20).toFixed(1),a=Number(i),r=0;a>.2?(r=a-.1,n.progress=r):(r=a,n.progress=a),e>10&&e<26?"bl_idle2"!=o.animation&&o.setAnimation(0,"bl_idle2",!0):"bl_idle3"!=o.animation&&o.setAnimation(0,"bl_idle3",!0);var l=380*(r-this.last_bule_pot),c=this.p_progressBarbule.getChildByName("bar_ain");c.opacity=255,c.x+=l,this.last_bule_pot=r}else{n.progress=1;var p=this.p_progressBarbule.getChildByName("bar_ain");if(p.x=78,setTimeout(function(){n.progress=0,p.opacity=0,t.p_progresLaber.getComponent(s.default).string="30/50"},400),slot.SoundMger.instance.playEffect("Water_Dragon_Egg_Explosion",!1),this.p_buledragoe.opacity=255,this.p_buledragoe.getComponent(sp.Skeleton).setAnimation(0,"feat_spawn",!1),this.p_buledragoe.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_buledragoe.getComponent(sp.Skeleton).setCompleteListener(null),t.p_buledragoe.getComponent(sp.Skeleton).setAnimation(0,"feat_idle",!0)}),this.buleDragoneState=!0,this.greenDragoneState){var _=this.p_greendragon.getPosition();cc.tween(this.p_greendragon).to(.1,{position:new cc.Vec3(_.x-100,_.y)}).start()}o.setAnimation(0,"bl_hatch",!1),o.setCompleteListener(function(){if("bl_hatch"==o.animation){slot.SoundMger.instance.stopEffect("Earth_Dragon_Mode_Sound_Effects"),slot.SoundMger.instance.playEffect("Water_Dragon_Mode_Sound_Effect",!0),t.p_progressBarbule.opacity=0,t.p_progressBarred.opacity=255,t.p_progresLaber.setPosition(t.node.getChildByName("progressImgNode").getChildByName("progress_red_lable_point").getPosition());var e=t.record_Progress_number;if(e<50){var n=t.p_progressBarred.getComponent(cc.ProgressBar),i=t.p_progressBarred.getChildByName("bar_ain"),a=n.progress,r=i.x;cc.tween(n).set({progress:0}).to(.4,{progress:a}).start(),cc.tween(i).set({x:-311}).to(.4,{x:r}).start(),cc.tween({num:30}).to(.4,{num:e},{progress:function(e,n,o,i){t.p_progresLaber.getComponent(s.default).string=Math.round(cc.misc.lerp(e,n,i))+"/50"}}).start()}}})}},t.prototype.recordProgressRedCtrl=function(e){var t=this,n=this.p_progressBarred.getComponent(cc.ProgressBar),o=this.p_progressBarred.getChildByName("layput_red").getChildByName("redegg").getComponent(sp.Skeleton);if(e<50){var i=((e-30)/20).toFixed(1),a=Number(i);n.progress=a,e>30&&e<45?"rd_idle2"!=o.animation&&o.setAnimation(0,"rd_idle2",!0):"rd_idle3"!=o.animation&&o.setAnimation(0,"rd_idle3",!0);var l=420*(a-this.last_red_pot),c=this.p_progressBarred.getChildByName("bar_ain");c.opacity=255,c.x+=l,this.last_red_pot=a}else{n.progress=1;var p=this.p_progressBarred.getChildByName("bar_ain");p.x=109,setTimeout(function(){n.progress=0,p.opacity=0,t.p_progresLaber.getComponent(s.default).string="50/70"},100),this.setBgLargeDragonAni("",r.BgDongerAniType.collect_idle),this.p_reddragon.opacity=255,slot.SoundMger.instance.playEffect("Fire_Dragon_Eggs_Explode_With_Fire_Dragon_Sound",!1),this.p_reddragon.getComponent(sp.Skeleton).setAnimation(0,"feat_spawn",!1),this.p_reddragon.getComponent(sp.Skeleton).addAnimation(0,"feat_idle",!0),cc.tween(this.p_reddragon).to(.2,{position:new cc.Vec3(this.p_movereddragonpoint.x,this.p_movereddragonpoint.y)}).call(function(){}).start(),this.JudgDoYouNeedChangePos(),o.setAnimation(0,"rd_hatch",!1),o.setCompleteListener(function(){if("rd_hatch"==o.animation){slot.SoundMger.instance.stopEffect("Water_Dragon_Mode_Sound_Effect"),slot.SoundMger.instance.playEffect("Fire_Dragon_Mode_Sound",!0),t.p_progressBarred.opacity=0,t.p_progressBaryellow.opacity=255,t.p_progresLaber.setPosition(t.node.getChildByName("progressImgNode").getChildByName("progress_yellow_lable_point").getPosition());var e=t.record_Progress_number,n=t.p_progressBaryellow.getComponent(cc.ProgressBar),i=t.p_progressBaryellow.getChildByName("bar_ain"),a=n.progress,r=i.x;cc.tween(n).set({progress:0}).to(.4,{progress:a}).start(),cc.tween(i).set({x:-367}).to(.4,{x:r}).start(),cc.tween({num:50}).to(.4,{num:e},{progress:function(e,n,o,i){t.p_progresLaber.getComponent(s.default).string=Math.round(cc.misc.lerp(e,n,i))+"/70"}}).start()}})}},t.prototype.JudgDoYouNeedChangePos=function(){if(this.greenDragoneState){var e=this.p_movereddragonpoint;cc.tween(this.p_greendragon).to(.1,{position:new cc.Vec3(e.x-280,e.y)}).start()}this.buleDragoneState&&(e=this.p_movereddragonpoint,cc.tween(this.p_buledragoe).to(.1,{position:new cc.Vec3(e.x-150,e.y)}).start())},t.prototype.recordProgressYellowCtrl=function(e){var t=this.p_progressBaryellow.getComponent(cc.ProgressBar);if(e<70){var n=((e-50)/20).toFixed(1),o=Number(n);t.progress=o;var i=685*(o-this.last_yellow_pot),a=this.p_progressBaryellow.getChildByName("bar_ain");if(a.opacity=255,a.x+=i,this.last_yellow_pot=o,e>55){var r=this.p_progressBaryellow.getChildByName("effect_long").getComponent(sp.Skeleton),s=this.p_progressBaryellow.getChildByName("effect_long_claw").getComponent(sp.Skeleton),l=this.p_progressBaryellow.getChildByName("effect_long_head").getComponent(sp.Skeleton);"idle2"!=r.animation&&r.setAnimation(0,"idle2",!0),"idle2"!=s.animation&&s.setAnimation(0,"idle2",!0),"idle2"!=l.animation&&l.setAnimation(0,"idle2",!0)}}else{if(70!=e)return;this.p_progressBaryellow.getChildByName("bar_ain").opacity=0,t.progress=1,this.setSmallDrongeeffect("win_idle",!0),slot.SoundMger.instance.playEffect("Little_golden_dragon",!1)}},t.prototype.setSmallDrongeeffect=function(e,t){var n=this.p_progressBaryellow.getChildByName("effect_long").getComponent(sp.Skeleton),o=this.p_progressBaryellow.getChildByName("effect_long_claw").getComponent(sp.Skeleton),i=this.p_progressBaryellow.getChildByName("effect_long_head").getComponent(sp.Skeleton);n.setAnimation(0,e,t),o.setAnimation(0,e,t),i.setAnimation(0,e,t),"win_idle"==e&&this.setSmallDrongWinIdlePoint()},t.prototype.setSmallDrongWinIdlePoint=function(){var e=this.p_progressBaryellow.getChildByName("effect_long"),t=this.p_progressBaryellow.getChildByName("effect_long_claw"),n=this.p_progressBaryellow.getChildByName("effect_long_head");e.setPosition(this.p_smalllong_body_pos.x-50,this.p_smalllong_body_pos.y),t.setPosition(this.p_smallLongclaw_pos.x-50,this.p_smallLongclaw_pos.y),n.setPosition(this.p_smalllong_head_pos.x-50,this.p_smalllong_head_pos.y)},t.prototype.setProgressNumberCtrl=function(e,t){var n=0,o=t[3].num;if(null==this.record_Progress_number?(this.record_Progress_number=o,n=o):(n=o-this.record_Progress_number,this.record_Progress_number=o),n>0){slot.SoundMger.instance.playEffect("Collector_Sound",!1);for(var i=-.06,a=0;a<n;a++){if(this.sign_number+=1,11==this.sign_number)i+=.2;else if(31==this.sign_number)i+=.2;else if(51==this.sign_number)i+=.2;else{if(71==this.sign_number)return;i+=.06}var r=cc.delayTime(i),s=cc.callFunc(function(){this.progress_number+=1,this.setProgressNumber(this.progress_number)}.bind(this));this.node.runAction(cc.sequence(r,s))}}},t.prototype.setProgressNumber=function(e){var t=this.p_progresLaber;e>0&&e<=10?(this.recordProgressGreenCtrl(e),t.getComponent(s.default).string=e+"/10"):e>10&&e<=30?(this.recordProgressBuleCtrl(e),255==this.p_progressBarbule.opacity&&(t.getComponent(s.default).string=e+"/30")):e>30&&e<=50?(this.recordProgressRedCtrl(e),255==this.p_progressBarred.opacity&&(t.getComponent(s.default).string=e+"/50")):e>50&&e<=70&&(this.recordProgressYellowCtrl(e),255==this.p_progressBaryellow.opacity&&(t.getComponent(s.default).string=e+"/70")),0<e&&e<=70&&slot.SoundMger.instance.playEffect("digital_beats",!1)},t.prototype.ClearAllNode=function(){this.sign_number=0,this.progress_number=0,this.initProgressBar(),this.greenDragoneState=!1},t.prototype.setupDragonEffectCtrl=function(e,t){switch(t){case r.DongerAniType.feature_activate:this._dragonEnterani();break;case r.DongerAniType.stomp:this._dragonStomp();break;case r.DongerAniType.breath_fire:this._dragonBreathFire();break;case r.DongerAniType.bigwin_pre:this._dragonBigwinpre();break;case r.DongerAniType.bigwin_idle:this._dragonBigwinidle()}},t.prototype._dragonEnterani=function(){var e=this;this.p_donger_enter_effect.opacity=255,this.p_donger_enter_effect.getComponent(sp.Skeleton).setAnimation(0,"feature_activate",!1),setTimeout(function(){e.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"collect_to_feature",!1),e.p_hugeDonger.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_hugeDonger.getComponent(sp.Skeleton).setCompleteListener(null),e.p_hugeDonger.opacity=0,e.p_progressNode.opacity=0,e.p_hugeDonger_head.opacity=255,e.p_hugeDonger_head.getComponent(sp.Skeleton).setAnimation(0,"feature_activate",!1),e.p_hugeDonger_head.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_hugeDonger_head.getComponent(sp.Skeleton).setCompleteListener(null),e._dragonStomp()})})},500)},t.prototype._dragonStomp=function(){var e=this;slot.SoundMger.instance.playEffect("Convert_Element_Fire_Dragon_Sound_Effect",!0),this.p_hugeDonger_head.opacity=255,this.p_hugeDonger_body.opacity=255,this._playDragoneBodyAni("stomp",!1,function(){}),this._playDragoneHeadyAni("stomp",!1,function(){e._dragonidle()}),this.scheduleOnce(function(){e.setBgtitlePlayAni()},.4)},t.prototype._dragonBreathFire=function(){var e=this;slot.SoundMger.instance.playEffect("Dragon_Fire_Sound_Effect",!1),this._playDragoneBodyAni("breath_fire",!1,function(){}),this._playDragoneHeadyAni("breath_fire",!1,function(){e._dragonidle()})},t.prototype._dragonBigwinpre=function(){var e=this;this._playDragoneBodyAni("bigwin_pre",!1,function(){}),this._playDragoneHeadyAni("bigwin_pre",!1,function(){e._dragonidle()})},t.prototype._dragonBigwinidle=function(){var e=this;slot.SoundMger.instance.playEffect("Dragon_Mouth_Sound_Effect",!1),this._playDragoneBodyAni("bigwin_idle",!1,function(){}),this._playDragoneHeadyAni("bigwin_idle",!1,function(){e._dragonidle()})},t.prototype._dragonWinShakeHead=function(){var e=this;this.p_hugeDonger_head.getComponent(sp.Skeleton).setAnimation(0,"idle4",!1),this.p_hugeDonger_body.getComponent(sp.Skeleton).setAnimation(0,"idle4",!1),this.p_hugeDonger_body.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_hugeDonger_body.getComponent(sp.Skeleton).setCompleteListener(null),e._dragonidle()})},t.prototype._dragonBeforeBigWin=function(e){var t=this;slot.SoundMger.instance.playEffect("pant",!1),slot.SoundMger.instance.playEffect("Dragon_Mode_Ends",!1),this.p_hugeDonger_head.getComponent(sp.Skeleton).setAnimation(0,"bigwin_pre",!1),this.p_hugeDonger_body.getComponent(sp.Skeleton).setAnimation(0,"bigwin_pre",!1),this.p_hugeDonger_body.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_hugeDonger_body.getComponent(sp.Skeleton).setCompleteListener(null),t.p_hugeDonger_head.getComponent(sp.Skeleton).setAnimation(0,"bigwin_idle",!1),t.p_hugeDonger_body.getComponent(sp.Skeleton).setAnimation(0,"bigwin_idle",!1),t.p_hugeDonger_body.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_hugeDonger_body.getComponent(sp.Skeleton).setCompleteListener(null),slot.SoundMger.instance.playEffect("Dragon_Mode_Ends_01",!1),t.p_hugeDonger_head.getComponent(sp.Skeleton).setAnimation(0,"bigwin_exit",!1),t.p_hugeDonger_body.getComponent(sp.Skeleton).setAnimation(0,"bigwin_exit",!1),t.p_hugeDonger_body.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_hugeDonger_body.getComponent(sp.Skeleton).setCompleteListener(null),t.p_hugeDonger_head.getComponent(sp.Skeleton).setAnimation(0,"idle",!1),t.p_hugeDonger_body.getComponent(sp.Skeleton).setAnimation(0,"idle",!0),e.run()})})})},t.prototype._dragonCloseeffect=function(){this.p_hugeDonger_head.opacity=0,this.p_hugeDonger_body.opacity=0,this.p_hugeDonger.opacity=255,this.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"idle",!1),console.log("113333333333333"),this.p_progressNode.opacity=255,this.fristTitlePlay=!0},t.prototype._dragonidle=function(){this.p_hugeDonger_head.getComponent(sp.Skeleton).setAnimation(0,"idle",!0),this.p_hugeDonger_body.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)},t.prototype._playDragoneBodyAni=function(e,t,n){this.p_hugeDonger_body.getComponent(sp.Skeleton).setAnimation(0,e,t),this.p_hugeDonger_body.getComponent(sp.Skeleton).animation==e&&n&&n()},t.prototype._playDragoneHeadyAni=function(e,t,n){var o=this;this.p_hugeDonger_head.getComponent(sp.Skeleton).setAnimation(0,e,t),this.p_hugeDonger_head.getComponent(sp.Skeleton).setCompleteListener(function(){o.p_hugeDonger_head.getComponent(sp.Skeleton).animation==e&&n&&n()})},t.prototype.setBgtitlePlayAni=function(){var e=this;this.fristTitlePlay?this.fristTitlePlay=!1:slot.SoundMger.instance.playEffect("The_Dragon_Slaps_The_Announcement_Box",!1);var t=[1,5,8,7,9,12],n=this.getBgtitleNode(0),o=n.getPosition();cc.tween(n).to(.2,{position:new cc.Vec3(o.x,o.y-5)}).to(.2,{position:new cc.Vec3(o.x,o.y+5)}).to(.2,{position:new cc.Vec3(o.x,o.y)}).call(function(){e.changeItemSprite(t)}).start()},t.prototype.getBgtitleNode=function(){return this.p_bgtitle1},t.prototype.changeItemSprite=function(e){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_CHANGE_IMAGE_PLAY_SPRINT,e)},t.prototype.setBgLargeDragonAni=function(e,t){var n=this.p_hugeDonger.getComponent(sp.Skeleton).animation;if(!(1<=t&&t<=5&&"idle"!=n&&"idle2"!=n&&"idle3"!=n&&"idle4"!=n&&"idle5"!=n))switch(t){case r.BgDongerAniType.idle:this.setBgLargeDragonIdle();break;case r.BgDongerAniType.idle2:this.setBgLargeDragonIdle2();break;case r.BgDongerAniType.idle3:this.setBgLargeDragonIdle3();break;case r.BgDongerAniType.idle4:this.setBgLargeDragonIdle4();break;case r.BgDongerAniType.idle5:this.setBgLargeDragonIdle5();break;case r.BgDongerAniType.collect_idle:this.setBgLargeDragonCollectidle();break;case r.BgDongerAniType.collect_Exit_To_Idle:this.setBgLargeDragonIdle6()}},t.prototype.setBgLargeDragonIdle=function(){slot.SoundMger.instance.playEffect("Next_Dragon_Sound",!1),this.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"idle",!1)},t.prototype.setBgLargeDragonIdle2=function(){var e=this;slot.SoundMger.instance.playEffect("The_Dragon_Moves_When_It_Shakes_Its_Head",!1),this.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"idle2",!1),this.p_hugeDonger.getComponent(sp.Skeleton).setCompleteListener(function(){"idle2"==e.p_hugeDonger.getComponent(sp.Skeleton).animation&&(slot.SoundMger.instance.playEffect("Next_Dragon_Sound_Moves",!1),e.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"idle",!0))})},t.prototype.setBgLargeDragonCollectidle=function(){var e=this;slot.SoundMger.instance.playEffect("open_eyes",!1),this.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"collect_activate",!1),this.p_hugeDonger.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_hugeDonger.getComponent(sp.Skeleton).setCompleteListener(null),e.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"collect_idle",!0)})},t.prototype.setBgLargeDragonIdle3=function(){slot.SoundMger.instance.playEffect("The_Dragon_Moves_When_It_Looks_Up",!1),this.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"idle3",!1),this.p_hugeDonger.getComponent(sp.Skeleton).addAnimation(0,"idle",!0)},t.prototype.setBgLargeDragonIdle4=function(){slot.SoundMger.instance.playEffect("Dragon_Eyes_Open",!1),this.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"idle4",!1),this.p_hugeDonger.getComponent(sp.Skeleton).addAnimation(0,"idle",!0),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Next_Dragon_Sound",!1)},.4)},t.prototype.setBgLargeDragonIdle5=function(){slot.SoundMger.instance.playEffect("Next_Dragon_Sound",!1),this.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"idle5",!1),this.p_hugeDonger.getComponent(sp.Skeleton).addAnimation(0,"idle",!0)},t.prototype.setBgLargeDragonIdle6=function(){var e=this;this.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"collect_exit",!1),this.p_hugeDonger.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_hugeDonger.getComponent(sp.Skeleton).setCompleteListener(null),e.p_hugeDonger.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)})},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_SET_PROGRESS_NUMBER,this.setProgressNumberCtrl,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_GUNZHOU_SPINSTART,this.ClearAllNode,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_GREEENdRAGON_EFFECT,this.playGreenDragoneffect,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CLOSE_GREEENdRAGON_EFFECT,this.closeGreenDragoneffect,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_DRAGON_EFFECT_ANI,this.setupDragonEffectCtrl,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_BULERAGON_EFFECT,this.playBuleDragoneffect,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CLOSE_BULERAGON_EFFECT,this.closeBuleDragoneffect,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_PLAY_REDRAGON_EFFECT,this.playRedDragoneffect,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CLOSE_REDRAGON_EFFECT,this.closeRedDragoneffect,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CLOSE_LARGE_DRENGER,this._dragonCloseeffect,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CLEAR_All_LAST_GAME_DATA,this.ClearAllNode,this)},a([p(cc.Node)],t.prototype,"p_progressBarred",void 0),a([p(cc.Node)],t.prototype,"p_progressBaryellow",void 0),a([p(cc.Node)],t.prototype,"p_progressBargreen",void 0),a([p(cc.Node)],t.prototype,"p_progressBarbule",void 0),a([p(cc.Node)],t.prototype,"p_greendragon",void 0),a([p(cc.Node)],t.prototype,"p_buledragoe",void 0),a([p(cc.Node)],t.prototype,"p_reddragon",void 0),a([p(cc.Node)],t.prototype,"p_hugeDonger",void 0),a([p(cc.Node)],t.prototype,"p_hugeDonger_body",void 0),a([p(cc.Node)],t.prototype,"p_hugeDonger_head",void 0),a([p(cc.Node)],t.prototype,"p_donger_enter_effect",void 0),a([p(cc.Node)],t.prototype,"p_progresLaber",void 0),a([p(cc.Node)],t.prototype,"p_progressNode",void 0),a([p(cc.Node)],t.prototype,"p_bgtitle1",void 0),a([p(cc.Node)],t.prototype,"p_bgtitle2",void 0),a([p(cc.Node)],t.prototype,"p_bgtitle3",void 0),a([p(cc.Node)],t.prototype,"p_movereddragonpoint",void 0),a([p(cc.Node)],t.prototype,"p_smalllong_body_pos",void 0),a([p(cc.Node)],t.prototype,"p_smalllong_head_pos",void 0),a([p(cc.Node)],t.prototype,"p_smallLongclaw_pos",void 0),a([c],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../main/GameEventName111006101":"GameEventName111006101","../main/NumAtlasLabel111006101":"NumAtlasLabel111006101"}],RenderEliminateCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"c1c9bG5mpZMT4KbOn66lkFn","RenderEliminateCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../main/GameEventName111006101"),s=e("./GameLayer111006101"),l=e("./ProgressBarCtrl"),c=cc._decorator,p=c.ccclass,_=c.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_touchLayout=null,t.p_SkeletonDate=[],t.reelTopLight=null,t.p_shuiEffectNode=null,t.p_showTipsView=null,t.p_progressbarNode=null,t.Sprite=[],t.all_flames_cfg=[],t.all_Image_cfg=[],t.Curre_Proto=null,t.fristEnterLagerDragone=!1,t.DragoneChangeItemData=null,t.girde_data=null,t.gride_change_data=null,t.transverse=[21,23,25],t.vertical=[6,16],t}return i(t,e),t.prototype.start=function(){this.reelTopLight.node.active=!1,this.p_shuiEffectNode.active=!1,this.p_showTipsView.active=!1,this.initshowTipsView();var e=this.p_shuiEffectNode,t=e.getChildByName("Left_water_effect").getComponent(sp.Skeleton),n=e.getChildByName("right_water_effect").getComponent(sp.Skeleton),o="skeleton/shui/"+(game.LanguageManager.getInstance().getCurLang()==game.LanguageType.ZH?"zh":"en")+"/long";slot.Property.setSpProperty(t,{json:o},slot.GData.bundleName),slot.Property.setSpProperty(n,{json:o},slot.GData.bundleName)},t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.EVENT_ACCEPT_NETWORK_DATA,this.acceptNetdata,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_SET_WIN_ITEM_EFFECT,this.setWinItemShow,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CHANGE_IMAGE_PLAY_SPRINT,this.changItemNodeSprite,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_GUNZHOU_END,this.ClearAllData,this),this.creatImageNode(),this.createFlames()},t.prototype.initshowTipsView=function(){this.p_showTipsView.parent=game.UIManager.getInstance().getRootNode();var e=this.p_showTipsView.getChildByName("bg_showview1"),t=this.p_showTipsView.getChildByName("bg_showview2");"zh"==slot.GData.curLanguage?(e.opacity=255,t.opacity=0):(e.opacity=0,t.opacity=255)},t.prototype.createFlames=function(){for(var e=this,t=this.p_touchLayout,n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/Flames",function(o,i){if(!o){var a=cc.instantiate(i);a.name="huo"+(n+1),a.opacity=0,t.addChild(a,10),e.all_flames_cfg.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<6;o++)n(o)},t.prototype.creatImageNode=function(){for(var e=this,t=this.p_touchLayout,n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/changeImageEffect",function(o,i){if(!o){var a=cc.instantiate(i);a.name="image"+(n+1),a.opacity=0,e.setImagepoint(a,n+1),t.addChild(a,5),e.all_Image_cfg.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<25;o++)n(o)},t.prototype.setImagepoint=function(e,t){var n="node"+t,o=this.p_touchLayout.getChildByName(n);o&&(e.x=o.x,e.y=o.y),e.getChildByName("img_water_effect").opacity=0,e.getChildByName("img_change_effect").opacity=0,e.getChildByName("img_select1").opacity=0,e.getChildByName("img_select2").opacity=0,e.getChildByName("img_select3").opacity=0,e.getChildByName("img_select4").opacity=0,e.getChildByName("itemLine1").opacity=0,e.getChildByName("itemLine2").opacity=0,e.getChildByName("itemLine3").opacity=0,e.getChildByName("itemLine4").opacity=0},t.prototype.ByPosGetIamgeNode=function(e){for(var t="image"+e,n=0;n<this.all_Image_cfg.length;n++)if(this.all_Image_cfg[n].name==t)return this.all_Image_cfg[n].opacity=255,this.all_Image_cfg[n]},t.prototype.initImageNode=function(){for(var e=0;e<this.all_Image_cfg.length;e++)this.all_Image_cfg[e].opacity=0,this.all_Image_cfg[e].getChildByName("img_water_effect").opacity=0,this.all_Image_cfg[e].getChildByName("img_baoza").opacity=0,this.all_Image_cfg[e].getChildByName("img_select1").opacity=0,this.all_Image_cfg[e].getChildByName("img_select2").opacity=0,this.all_Image_cfg[e].getChildByName("img_select3").opacity=0,this.all_Image_cfg[e].getChildByName("img_select4").opacity=0,this.all_Image_cfg[e].getChildByName("itemLine1").opacity=0,this.all_Image_cfg[e].getChildByName("itemLine2").opacity=0,this.all_Image_cfg[e].getChildByName("itemLine3").opacity=0,this.all_Image_cfg[e].getChildByName("itemLine4").opacity=0},t.prototype.getnodepoint=function(e){var t="node"+e;return this.p_touchLayout.getChildByName(t)},t.prototype.acceptNetdata=function(e,t){this.Curre_Proto=null,this.Curre_Proto=t},t.prototype.getElimintateRemove=function(e){var t=this.Curre_Proto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].removePos)return t[e].removePos},t.prototype.getElimintateChangeGride=function(e){var t=this.Curre_Proto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.gridChanged},t.prototype.getElimintateGride=function(e){var t=this.Curre_Proto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.grid},t.prototype.getElimintateScore=function(e){var t=this.Curre_Proto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.spinCoin},t.prototype.getElimintatewinPos=function(e){var t=this.Curre_Proto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){for(var n=t[e].spinResult.lineResult,o=[],i=0;i<n.length;i++){for(var a=[],r=n[i].winPos,s=0;s<r.length;s++)a.push(r[s]-1);o.push(a)}return o}},t.prototype.getElimintatewinPosScore=function(e){var t=this.Curre_Proto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult){for(var n=t[e].spinResult.lineResult,o=[],i=0;i<n.length;i++)o.push(Number(n[i].spinCoin));return o}},t.prototype.getElimintatSkillData=function(e,t){var n=this.Curre_Proto.updateList[0].value.handleState.game_10017.data.resultList;if(n&&n[e]&&n[e].crushTask){var o=n[e].crushTask;if(o&&n[t-1]&&o[t-1].changePos)return o[t-1].changePos}},t.prototype.getElimintatGirdeChange=function(e){var t=this.Curre_Proto.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return t[e].spinResult.gridChanged},t.prototype.setWinItemShow=function(e,t,n){var o=this.getElimintatewinPos(t),i=this.getElimintateChangeGride(t),a=this.getElimintateGride(t),c=this.getElimintatewinPosScore(t),p=this.getElimintateRemove(t),_=0,g=!1;if(n&&n.length>0){for(var d=0;d<n.length;d++)if(1==n[d].id){if(n[d].skill_state){_=1,g=!0;break}}else if(2==n[d].id){if(n[d].skill_state){_=2,g=!0;break}}else if(3==n[d].id){if(n[d].skill_state){_=3,g=!0;break}}else if(4==n[d].id&&n[d].skill_state){_=4,g=!0;break}}else console.log("\u6e38\u620f\u91ca\u653e\u6280\u80fd\u5224\u65ad\u8868\u51fa\u9519\u4e86");var h=this.getElimintatSkillData(t,_);if(g)this.setDragonSkillCtrl(_,p,h,a,i);else for(game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_CLEAR_SCATTER_EFFECT),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_SET_ElIMINATE_SCORE,o,c),console.log("\u8bbe\u7f6e\u4e2d\u5956\u52a8\u753b",t,o,a),o&&o.length&&o.length>0&&(s.default.instance.LargeDragonMode?(slot.SoundMger.instance.playEffect("Effect_When_Winning",!1),s.default.instance.node.getComponent(l.default)._dragonWinShakeHead()):slot.SoundMger.instance.playEffect("Sound_Effect_When_Winning",!1)),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_OPEN_WIN_LAYOUT),d=0;d<o.length;d++)for(var u=0;u<o[d].length;u++){var E=a[o[d][u]],f=this.p_SkeletonDate[E-1];slot.SlotMachineView.instance.scroller.getRenderByIndex(o[d][u]+1).addDataSpine(255,f,E)}},t.prototype.setDragonSkillCtrl=function(e,t,n,o,i){var a=e,r=t,s=o;1==a?this.setGreenDragonSkill(r,s,i):2==a?this.setBuleDragonSkill(n,s,i):3==a?this.setRedDragonSkill(n,s,i):4==a&&(this.DragoneChangeItemData=n,this.girde_data=o,this.gride_change_data=i,this.fristEnterLagerDragone?this.againchangItemNodeSprite():(this.setYellowDragonSkill(),this.fristEnterLagerDragone=!0))},t.prototype.setGreenDragonSkill=function(e,t){var n=this;console.log("\u91ca\u653e\u6280\u80fd\u7eff\u9f991111111111111111",e),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_PLAY_GREEENdRAGON_EFFECT),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_OPEN_WIN_LAYOUT),this.greenBgTwinkle();for(var o=this.SplictGreenDrengdata(e),i=0;i<o.length;i++)for(var a=0;a<o[i].length;a++){var s=t[o[i][a]],l=this.p_SkeletonDate[s-1];slot.SlotMachineView.instance.scroller.getRenderByIndex(o[i][a]+1).addGreenDragonSpine(255,l,s)}setTimeout(function(){for(var e=0,t=function(t){e+=.1;var i=cc.delayTime(e),a=cc.callFunc(function(){for(var e=0;e<o[t].length;e++)slot.SlotMachineView.instance.scroller.getRenderByIndex(o[t][e]+1).playGreenDragonSpine()});n.node.runAction(cc.sequence(i,a))},i=0;i<o.length;i++)t(i);setTimeout(function(){return n.closeGreenDragonSkillBg()},2e3)},500)},t.prototype.greenBgTwinkle=function(){this.reelTopLight.node.active=!0,this.reelTopLight.setSkin("g"),this.reelTopLight.setAnimation(0,"h_top_loop",!0)},t.prototype.stopGreenBgTwinkle=function(){this.reelTopLight.node.active=!1},t.prototype.blueBgTwinkle=function(){this.reelTopLight.node.active=!0,this.reelTopLight.setSkin("b"),this.reelTopLight.setAnimation(0,"h_top_loop",!0)},t.prototype.stopblueBgTwinkle=function(){this.reelTopLight.node.active=!1},t.prototype.redBgTwinkle=function(){this.reelTopLight.node.active=!0,this.reelTopLight.setSkin("l"),this.reelTopLight.setAnimation(0,"h_top_loop",!0)},t.prototype.stopredBgTwinkle=function(){this.reelTopLight.node.active=!1},t.prototype.SplictGreenDrengdata=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);for(var o=[],i=[],a=[],r=[],s=[],l=[],c=0;c<t.length;c++){var p=this.setGrideposBylistNum(t[c]);1==p?o.push(t[c]):2==p?i.push(t[c]):3==p?a.push(t[c]):4==p?r.push(t[c]):5==p&&s.push(t[c])}return l.push(o),l.push(i),l.push(a),l.push(r),l.push(s),l},t.prototype.closeGreenDragonSkillBg=function(){this.stopGreenBgTwinkle(),setTimeout(function(){return game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_CLOSE_GREEENdRAGON_EFFECT)},1e3)},t.prototype.setBuleDragonSkill=function(e,t){var n=this;game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_OPEN_WIN_LAYOUT),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_PLAY_BULERAGON_EFFECT),this.scheduleOnce(function(){n.blueBgTwinkle();var e=[6,16,8,18];n.setPlayWaterEffect();for(var o=function(o){n.scheduleOnce(function(){var i=n.ByPosGetIamgeNode(e[o]+1),a=t[e[o]];n.ChangeImageNodeSprite(i,a);var r=i.getChildByName("img_water_effect").getComponent(sp.Skeleton);i.getChildByName("img_water_effect").opacity=255,r.setAnimation(0,"bg_box",!1),setTimeout(function(){slot.SlotMachineView.instance.scroller.getRenderByIndex(e[o]+1).data=9,slot.SlotMachineView.instance.scroller.getRenderByIndex(e[o]+1).playWileEffect2(),r.setAnimation(0,"bg_box",!1),r.addAnimation(0,"boom",!1),r.setCompleteListener(function(){"bg_box"==r.animation?slot.SoundMger.instance.playEffect("Convert_Wild_Symbol_Element_Sound_Effects",!1):"boom"==r.animation&&o==e.length-1&&n.CloseChangeItem(e,t)})},70*o)},.25)},i=0;i<e.length;i++)o(i)},.5)},t.prototype.setPlayWaterEffect=function(){slot.SoundMger.instance.playEffect("Start_The_Game_In_Water_Dragon_Mode",!1);var e=this.p_shuiEffectNode;e.active=!0;var t=e.getChildByName("Left_water_effect").getComponent(sp.Skeleton),n=e.getChildByName("right_water_effect").getComponent(sp.Skeleton);t.setAnimation(0,"shui",!1),n.setAnimation(0,"shui",!1)},t.prototype.setBlueDonegSkillbgeffect=function(){},t.prototype.closeBlueDonegSkillbgeffect=function(){},t.prototype.CloseChangeItem=function(){this.stopblueBgTwinkle(),this.initImageNode(),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_CLOSE_BULERAGON_EFFECT)},t.prototype.setRedDragonSkill=function(e,t,n){var o=this;game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_OPEN_WIN_LAYOUT),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_PLAY_REDRAGON_EFFECT),slot.SoundMger.instance.playEffect("Fire_dragon_breathing",!1);var i=e,a=this.SplitMoveChangeGride(i,1),s=this.SplitMoveChangeGride(i,2);this.redBgTwinkle();for(var l=function(e){var i=c.all_flames_cfg[e];i.opacity=255,i.rotation=0;var r=c.getnodepoint(c.transverse[e]),l=c.getnodepoint(c.transverse[e]-20);i.x=r.x+400,i.y=r.y,cc.tween(i).to(.8,{position:new cc.Vec3(l.x-400,l.y)}).call(function(){i.opacity=0,e==o.transverse.length-1&&o.setVerticalHuoPlay(s,a,t,n)}).start()},c=this,p=0;p<this.transverse.length;p++)l(p);var _=0;this.scheduleOnce(function(){for(var e=function(e){_=21==a[e]||23==a[e]||25==a[e]?.028:11==a[e]||13==a[e]||15==a[e]?.199:.37;var n=cc.delayTime(_),i=cc.callFunc(function(){var n=o.ByPosGetIamgeNode(a[e]);n.opacity=255,n.getChildByName("img_water_effect").opacity=0;var i=t[a[e]-1];o.ChangeImageNodeSprite(n,i);var r=n.getChildByName("img_change_effect");r.scale=0,r.opacity=255,cc.tween(r).to(.25,{scale:1.2}).to(.2,{scale:1.1}).call(function(){cc.tween(r).set({angle:0}).to(.5,{angle:-90}).call(function(){}).start()}).start()});o.node.runAction(cc.sequence(n,i))},n=0;n<a.length;n++)e(n)},.1),this.scheduleOnce(function(){return o.changeItemdata(a,s,n)},1.3)},t.prototype.setVerticalHuoPlay=function(e,t,n,o){for(var i=this,a=function(e){var t=r.all_flames_cfg[3+e];t.opacity=255,t.rotation=-90;var n=r.getnodepoint(r.vertical[e]),o=r.getnodepoint(r.vertical[e]+4);t.x=n.x,t.y=n.y+300,cc.tween(t).to(.8,{position:new cc.Vec3(o.x,o.y-300)}).call(function(){t.opacity=0,i.vertical.length}).start()},r=this,s=0;s<this.vertical.length;s++)a(s);for(var l=0,c=function(a){l=7==e[a]||17==e[a]?.17:.36;var r=cc.delayTime(l),s=cc.callFunc(function(){var r=i.ByPosGetIamgeNode(e[a]);r.opacity=255,r.getChildByName("img_water_effect").opacity=0;var s=n[e[a]-1];i.ChangeImageNodeSprite(r,s);var l=r.getChildByName("img_change_effect");l.scale=0,l.opacity=255,cc.tween(l).to(.25,{scale:1.2}).to(.2,{scale:1.1}).call(function(){cc.tween(l).set({angle:0}).to(.5,{angle:-90}).call(function(){a==e.length-1&&i.setViewNodeBlast(t,e,o)}).start()}).start()});p.node.runAction(cc.sequence(r,s))},p=this,_=0;_<e.length;_++)c(_)},t.prototype.changeItemdata=function(e,t,n){for(var o=n[e[0]-1],i=0;i<e.length;i++)slot.SlotMachineView.instance.scroller.getRenderByIndex(e[i]).data=o;for(var a=0;a<t.length;a++)slot.SlotMachineView.instance.scroller.getRenderByIndex(t[a]).data=o},t.prototype.setViewNodeBlast=function(e,t,n){for(var o=this,i=[],a=0;a<e.length;a++)i.push(e[a]);for(var s=0;s<t.length;s++)i.push(t[s]);for(var l=[],c=[],p=[],_=[],g=[],d=[],h=0;h<i.length;h++){var u=this.setGrideposBylistNum(i[h]);1==u?l.push(i[h]):2==u?c.push(i[h]):3==u?p.push(i[h]):4==u?_.push(i[h]):5==u&&g.push(i[h])}d.push(c),d.push(p),d.push(_),d.push(g),d.push(l);var E=0;slot.SoundMger.instance.playEffect("Fire_dragon_breathing_Effect",!1),console.log("DDDDDDDDDDDDDDDD",d);for(var f=function(e){E+=.12;var t=cc.delayTime(E),i=cc.callFunc(function(){for(var t=function(t){var i=d[e][t],a=o.ByPosGetIamgeNode(i),r=a.getChildByName("img_change_effect");cc.Tween.stopAllByTarget(r);var s=a.getChildByName("img_baoza");s.opacity=255,s.getComponent(cc.Animation).play("flames"),s.getComponent(cc.Animation).on("stop",function(){r.opacity=0,s.opacity=0}),cc.tween(s).delay(.1).call(function(){var e=n[i-1];o.ChangeImageNodeSprite(a,e)}).start()},i=0;i<d[e].length;i++)t(i)});m.node.runAction(cc.sequence(t,i))},m=this,y=0;y<d.length;y++)f(y);cc.tween(this.node).delay(1.8).call(function(){o.stopredBgTwinkle(),o.initImageNode()}).delay(.2).call(function(){return game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_CLOSE_REDRAGON_EFFECT)}).start()},t.prototype.SplitMoveChangeGride=function(e,t){var n=[],o=[21,23,25,11,13,15,1,3,5],i=[7,9,17,19];if(1==t)for(var a=0;a<e.length;a++)for(var r=0;r<o.length;r++)e[a]==o[r]&&n.push(e[a]);else if(2==t)for(a=0;a<e.length;a++)for(r=0;r<i.length;r++)e[a]==i[r]&&n.push(e[a]);return n},t.prototype.setGrideposBylistNum=function(e){for(var t=0;t<5;t++)for(var n=0;n<5;n++)if(5*n+t==e)return t+1;if(25==e)return 1},t.prototype.setYellowDragonSkill=function(){var e=this;this.p_showTipsView.active=!0,this.scheduleOnce(function(){e.p_showTipsView.active=!1,slot.SoundMger.instance.stopEffect("Fire_Dragon_Mode_Sound"),slot.SoundMger.instance.playEffect("Dragon_Mode_Sound",!0),slot.SoundMger.instance.playEffect("Pop_Up_Dragon_Mode_Prompt_Sound",!1),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_DRAGON_EFFECT_ANI,r.DongerAniType.feature_activate)},3)},t.prototype.againchangItemNodeSprite=function(){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_DRAGON_EFFECT_ANI,r.DongerAniType.stomp)},t.prototype.changItemNodeSprite=function(){var e=this;game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_OPEN_WIN_LAYOUT);var t=this.DragoneChangeItemData.slice(),n=this.girde_data,o=this.gride_change_data;if(console.log("aaaaaaaaaaaaaaaaaa",t),t&&t.length){var i="Start_low_payouts";1==t.length?i="low_payout":1<t.length&&t.length<5&&(i="Multiple_low_payouts"),slot.SoundMger.instance.playEffect(i,!1);for(var a=[[],[],[],[]],s=0;s<t.length;s++)1<=(p=n[t[s]-1])&&p<=4&&a[p-1].push(t[s]);var l=[];for(s=0;s<t.length;s++){var c=this.ByPosGetIamgeNode(t[s]),p=n[t[s]-1],_=o[t[s]-1];this.setImageCircular(c,p,a[p-1],t[s]),this.ChangeImageNodeSprite(c,p),l.push({img_node:c,id:t[s],girde_data:_})}this.scheduleOnce(function(){e.RepeatForeverImageNode(l,t,o)},.25)}},t.prototype.RepeatForeverImageNode=function(e,t,n){var o=this,i=e,a=cc.delayTime(.1),s=cc.callFunc(function(){for(var e=Math.floor(9*Math.random()+1),t=0;t<i.length;t++)o.ChangeImageNodeSprite(i[t].img_node,e)}),l=cc.sequence(a,s);this.node.runAction(cc.repeatForever(l)),cc.tween(this.node).delay(1.4).call(function(){return game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_DRAGON_EFFECT_ANI,r.DongerAniType.breath_fire)}).delay(.5).call(function(){o.stopRepeatForeverImageNode(i,t,n),o.changeRendItemGirdata(i,n)}).start()},t.prototype.stopRepeatForeverImageNode=function(e){var t=this;slot.SoundMger.instance.stopEffect("Convert_Element_Fire_Dragon_Sound_Effect"),this.node.stopAllActions();for(var n=0;n<e.length;n++){var o=e[n].img_node,i=o.getChildByName("img_baoza");i.opacity=255;var a=e[n].girde_data;i.getComponent(cc.Animation).play("flames"),cc.tween(o.getChildByName("itemLine1")).to(.25,{opacity:0}).start(),cc.tween(o.getChildByName("itemLine2")).to(.25,{opacity:0}).start(),cc.tween(o.getChildByName("itemLine3")).to(.25,{opacity:0}).start(),cc.tween(o.getChildByName("itemLine4")).to(.25,{opacity:0}).start(),this.ChangeImageNodeSprite(o,a),cc.tween(o).to(.2,{scale:1.2}).to(.2,{scale:1}).call(function(){}).start()}cc.tween(this.node).delay(1.2).call(function(){t.initImageNode()}).start()},t.prototype.changeRendItemGirdata=function(e,t){for(var n=t,o=e,i=0;i<o.length;i++){var a=o[i].id,r=(n[a-1],o[i].girde_data);slot.SlotMachineView.instance.scroller.getRenderByIndex(a).data=r}},t.prototype.setImageCircular=function(e,t,n,o){if(!(t<1||t>4)){console.log("setImageCircular id="+t+",myPos="+o+",changPos=",n),e.opacity=255;var i=e.getChildByName("itemLine"+t);cc.tween(i).to(.25,{opacity:255}).start();var a=i.getChildByName("line_t_l"),r=i.getChildByName("line_t_r"),s=i.getChildByName("line_d_l"),l=i.getChildByName("line_d_r"),c=i.getChildByName("line_l_t"),p=i.getChildByName("line_l_d"),_=i.getChildByName("line_r_t"),g=i.getChildByName("line_r_d"),d=i.getChildByName("corner_l_t"),h=i.getChildByName("corner_l_d"),u=i.getChildByName("corner_r_t"),E=i.getChildByName("corner_r_d");a.active=!1,r.active=!1,s.active=!1,l.active=!1,c.active=!1,p.active=!1,_.active=!1,g.active=!1,d.active=!1,h.active=!1,u.active=!1,E.active=!1;var f=o,m=f+5,y=f-5,N=f-1,v=f+1,C=[0,0,0,0];n.includes(N)&&(C[0]=f%5==1?0:1),n.includes(v)&&(C[1]=f%5==0?0:1),n.includes(y)&&(C[2]=1),n.includes(m)&&(C[3]=1),0==C[0]&&0==C[2]?d.active=!0:1==C[0]&&0==C[2]?c.active=!0:0==C[0]&&1==C[2]&&(a.active=!0),0==C[1]&&0==C[2]?h.active=!0:1==C[1]&&0==C[2]?p.active=!0:0==C[1]&&1==C[2]&&(s.active=!0),0==C[0]&&0==C[3]?u.active=!0:1==C[0]&&0==C[3]?_.active=!0:0==C[0]&&1==C[3]&&(r.active=!0),0==C[1]&&0==C[3]?E.active=!0:1==C[1]&&0==C[3]?g.active=!0:0==C[1]&&1==C[3]&&(l.active=!0)}},t.prototype.ClearAllData=function(){this.fristEnterLagerDragone=!1},t.prototype.ChangeImageNodeSprite=function(e,t){var n=t;9==n&&(n="zh"==slot.GData.curLanguage?9:10),e.getChildByName("image_node").getComponent(cc.Sprite).spriteFrame=this.Sprite[n-1]},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_ACCEPT_NETWORK_DATA,this.acceptNetdata,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_SET_WIN_ITEM_EFFECT,this.setWinItemShow,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CHANGE_IMAGE_PLAY_SPRINT,this.changItemNodeSprite,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_GUNZHOU_END,this.ClearAllData,this)},a([_(cc.Node)],t.prototype,"p_touchLayout",void 0),a([_([sp.SkeletonData])],t.prototype,"p_SkeletonDate",void 0),a([_(sp.Skeleton)],t.prototype,"reelTopLight",void 0),a([_(cc.Node)],t.prototype,"p_shuiEffectNode",void 0),a([_(cc.Node)],t.prototype,"p_showTipsView",void 0),a([_(cc.Node)],t.prototype,"p_progressbarNode",void 0),a([_([cc.SpriteFrame])],t.prototype,"Sprite",void 0),a([p],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../main/GameEventName111006101":"GameEventName111006101","./GameLayer111006101":"GameLayer111006101","./ProgressBarCtrl":"ProgressBarCtrl"}],SpinSlotViewExtend111006101:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../main/GameEventName111006101"),r=function(e){function t(){var t=e.call(this)||this;return t._slotFrameAniView=null,t.ID=null,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=.73,t}return i(t,e),t.prototype.onPlayAnimation=function(){if(this.data>=10){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setCompleteListener(function(){e.setAnimation(0,"idle",!1)}),slot.SoundMger.instance.playEffect(a.SOUND_NAME.Free_Add_Sym,!1)}else this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype.playFreeAddAni=function(){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"spawn");var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);e.setCompleteListener(function(){e.setAnimation(0,"idle",!1)})},t.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView()},t.prototype.onPlayRewardsAnimation=function(){},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype._getRewardsAnimation=function(){},t.prototype.addEffectElement=function(){this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win")},t.prototype.addEffectNeighbor=function(){var e=cc.scaleTo(.2,1.2),t=cc.scaleTo(.2,1),n=cc.callFunc(function(){}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(n,e,t))},t.prototype.addRendEffectNeighbor=function(e){if(1==e){var t=cc.moveBy(.2,this.skinLoader.spriteNode.x-4,this.skinLoader.spriteNode.y),n=cc.moveBy(.2,this.skinLoader.spriteNode.x+4,this.skinLoader.spriteNode.y),o=cc.callFunc(function(){}.bind(this));this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n))}else 2==e?(t=cc.moveBy(.2,this.skinLoader.spriteNode.x+4,this.skinLoader.spriteNode.y),n=cc.moveBy(.2,this.skinLoader.spriteNode.x-4,this.skinLoader.spriteNode.y),o=cc.callFunc(function(){}.bind(this)),this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n))):3==e?(t=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y-4),n=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y+4),o=cc.callFunc(function(){}.bind(this)),this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n))):4==e&&(t=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y+4),n=cc.moveBy(.2,this.skinLoader.spriteNode.x,this.skinLoader.spriteNode.y-4),o=cc.callFunc(function(){}.bind(this)),this.skinLoader.spriteNode.runAction(cc.sequence(o,t,n)))},t.prototype.addGreyMarsk=function(){},t.prototype.closeMarsk=function(){},t.prototype._showFrameAniView=function(e,t){game.ResLoader.getInstance().loadRes("prefabs/gameItem/Item",function(n,o){if(!n){var i=cc.instantiate(o);e.node.addChild(i,slot.LayerManage.effect+2,"itemNode"+t);var a=e.getPosByIndex(t);i.opacity=0,i.y=a.y,i.x=a.x}},"game_"+core.Global.clientGameId),game.ResLoader.getInstance().loadRes("prefabs/gameItem/scatter",function(){},"game_"+core.Global.clientGameId)},t.prototype.addDataSpine=function(e,t,n){this.skinLoader.url=null;var o=slot.SlotMachineView.instance.node.getChildByName("itemNode"+this.index);o.getChildByName("carEffect").scale=.7,o.opacity=e;var i=o.getChildByName("carEffect").getComponent(sp.Skeleton);if(i.skeletonData=t,9==n){o.getChildByName("carEffect").scale=.73,i.timeScale=1;var a="zh"==slot.GData.curLanguage?"zh":"en";i.setAnimation(0,"win_"+a,!1),i.setCompleteListener(function(){i.setCompleteListener(null),i.setAnimation(0,"exit_"+a,!1),i.setCompleteListener(function(){i.setCompleteListener(null),o.opacity=0})})}else 8==n?(i.timeScale=2.2,i.setAnimation(0,"win",!1),i.setCompleteListener(function(){i.setCompleteListener(null),i.setAnimation(0,"idle",!1),setTimeout(function(){i.timeScale=1,i.setAnimation(0,"exit",!1),i.setCompleteListener(function(){i.setCompleteListener(null),o.opacity=0})},500)})):(i.timeScale=2.2,i.setAnimation(0,"win",!1),i.setCompleteListener(function(){i.setCompleteListener(null),i.setAnimation(0,"idle",!1),i.setCompleteListener(function(){i.setCompleteListener(null),i.timeScale=1,i.setAnimation(0,"exit",!1),i.setCompleteListener(function(){i.setCompleteListener(null),o.opacity=0})})}))},t.prototype.addGreenDragonSpine=function(e,t){var n=slot.SlotMachineView.instance.node.getChildByName("itemNode"+this.index);n.getChildByName("carEffect").scale=.7,n.opacity=e,n.getChildByName("carEffect").getComponent(sp.Skeleton).skeletonData=t,this.skinLoader.url=null},t.prototype.playGreenDragonSpine=function(){var e=slot.SlotMachineView.instance.node.getChildByName("itemNode"+this.index),t=e.getChildByName("carEffect").getComponent(sp.Skeleton);t.timeScale=5.13,t.setAnimation(0,"crack01",!1),t.setCompleteListener(function(){t.setCompleteListener(null),setTimeout(function(){t.setAnimation(0,"crack02",!1),t.setCompleteListener(function(){t.setCompleteListener(null),setTimeout(function(){t.timeScale=1,t.setAnimation(0,"feature_exit",!1),t.setCompleteListener(function(){t.setCompleteListener(null),e.opacity=0})},400)})},300)})},t.prototype.onNewElemDropEnd=function(){this.playWileEffect2()},t.prototype.playWileEffect=function(e){var t=this;if(9==this.data){console.log("\u64ad\u653e\u767e\u642d\u58f0\u97f3\uff01");var n=1==e?"Wild_Symbol_Appears_Sound_Effect":2==e?"Wild_Symbol_Appears_Sound_Effect_01":3==e?"Wild_Symbol_Appears_Sound_Effect_02":"Wild_Symbol_Appears_Sound_Effect_03";slot.SoundMger.instance.playEffect(n,!1);var o="zh"==slot.GData.curLanguage?"zh":"en";this.setSkeletonAnimation("spawn_"+o,!1,function(){t.setSkeletonAnimation("idle_"+o,!0)})}},t.prototype.playWileEffect2=function(){if(9==this.data){var e="zh"==slot.GData.curLanguage?"zh":"en";this.setSkeletonAnimation("idle_"+e,!0)}},t.prototype.onDataOrStageChange=function(){this.skinLoader.spriteNode.y=6==this.data?3:7==this.data?6:0;var e=slot.SlotMachineView.instance.node.getChildByName("itemNode"+ +this.index);e&&(e.getChildByName("carEffect").scale=.7,e.opacity=0)},t.prototype.reset=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.reset.call(this)},t.prototype.playAnimaiton=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);this.ID=e,e>=9&&(e=6),t?t.getChildByName("elementAnimation")?(this.animationSpineNodeCtrl("tuan_xiaochu2"),t.getChildByName("elementAnimation").opacity=255,t.getChildByName("elementAnimation").getChildByName("animation").getComponent(cc.Animation).play("animation"+e),t.getChildByName("elementAnimation").getChildByName("animation").getComponent(cc.Animation).on("stop",function(){t.getChildByName("elementAnimation").opacity=0},this)):console.log("ywb",t):console.log("ywb","effectNode"+this.index)},t.prototype.animationSpineNodeCtrl=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);if(e){var t=e.getChildByName("elementAnimation").getChildByName("spineNode");t.opacity=255,t.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){"animation"==t.getComponent(sp.Skeleton).animation&&(t.getComponent(sp.Skeleton).setAnimation(0,"None",!1),t.opacity=0)})}else console.log("ywb","effectNode"+this.index)},t.prototype.addAnimationBeforeWin=function(){var e=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);e?e.getChildByName("beforeWinNode")&&this.beforeWinSpineNodeCtrl("tuan_zhongjiang_front"):console.log("ywb","effectNode"+this.index)},t.prototype.beforeWinSpineNodeCtrl=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index);if(t){var n=t.getChildByName("beforeWinNode").getChildByName("spineNode").getComponent(sp.Skeleton);n.node.opacity=255,n.setAnimation(0,e,!1),n.setCompleteListener(function(){n.node.opacity=0})}},t.prototype.addLineToNode=function(e){var t=slot.SlotMachineView.instance.node.getChildByName("effectNode"+this.index),n=null;if(t){n=t.getChildByName("lineNode");for(var o=1;o<e.length;o++)n.getChildByName(e[o])?n.getChildByName(e[o]).opacity=255:e[o]}else console.log("ywb","effectNode"+this.index)},t.prototype.changeData=function(e){this.data=e},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.active=!1,this._slotFrameAniView=null)},t._rewardsView=null,t}(slot.SpinSlotView);n.default=r,cc._RF.pop()},{"../main/GameEventName111006101":"GameEventName111006101"}],TitleBgCtrl:[function(e,t,n){"use strict";cc._RF.push(t,"7dfe3pS33RFrqytuA3LntE9","TitleBgCtrl");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../main/GameEventName111006101"),s=e("../main/NumAtlasLabel111006101"),l=e("./GameLayer111006101"),c=e("./ProgressBarCtrl"),p=cc._decorator,_=p.ccclass,g=p.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_titlebg1=null,t.p_titlebg2=null,t.p_titlebg3=null,t.p_scoreLable=null,t.p_totlescoreLable=null,t.p_totleeffect=null,t.p_tounchLayer=null,t.NetWorkData=null,t.all_lable_score=[],t.LargeDragonMode=!1,t.recordUseIndex=[],t.Record_Lable_Score_Node=[],t.frist_enter_game=!0,t}return i(t,e),t.prototype.CreatlableScore=function(){for(var e=this,t=this.p_tounchLayer,n=function(n){game.ResLoader.getInstance().loadRes("prefabs/gameItem/Lable_score",function(o,i){if(!o){var a=cc.instantiate(i);a.name="score_lable"+n,a.opacity=0,t.addChild(a,10),e.all_lable_score.push(a)}},"game_"+core.Global.clientGameId)},o=0;o<25;o++)n(o)},t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.EVENT_GUNZHOU_SPINSTART,this.onSpinStart,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_GUNZHOU_END,this.onSpinEnd,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_SET_ElIMINATE_SCORE,this.setElimintScoreLable,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_SET_ElIMINATE_SCORE_CLOSE,this.closeLableScore,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_ACCEPT_NETWORK_DATA,this.setNetWorkData,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_SET_ToTal_SCORE,this.setTotalScoreCallback,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_LARGEDEONGE_STATE,this.setLargeDragonMode,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CLEAR_All_LAST_GAME_DATA,this.onSpinStart,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_CLOSE_BANNER_CALLBACK,this.closeBanner,this),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_BANNER_CTRAL,r.BannerCtrl.BannerOpen)},t.prototype.start=function(){this.setCloseWinLable(),this.p_titlebg2.opacity=0,this.p_titlebg3.opacity=0,this.p_totleeffect.active=!1,this.CreatlableScore(),"zh"!=slot.GData.curLanguage&&(this.p_totlescoreLable.getChildByName("sp_wintotle").scale=.85),slot.MainView.instance.node.getChildByName("gameControPrefab").children[0].children[2].on("click",this.onClickStart,this)},t.prototype.onClickStart=function(){this.closeBanner()},t.prototype.setNetWorkData=function(e,t){this.NetWorkData=t},t.prototype.setLargeDragonMode=function(e,t){this.LargeDragonMode=t},t.prototype.getCurreScore=function(){if(this.NetWorkData&&this.NetWorkData.spinResult)return Number(this.NetWorkData.spinResult.spinCoin)},t.prototype.getElimintScoreByIndex=function(e){var t=this.NetWorkData.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].spinResult)return Number(t[e].spinResult.spinCoin)},t.prototype.getElimintcrushTaskNum=function(e){var t=this.NetWorkData.updateList[0].value.handleState.game_10017.data.resultList;if(t&&t[e]&&t[e].crushTask)return t[e].crushTask},t.prototype.onSpinStart=function(){this.setCloseWinLable(),this.initTitleBg(),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_BANNER_CTRAL,r.BannerCtrl.BannerOpen)},t.prototype.onSpinEnd=function(){},t.prototype.setElimintScoreLable=function(e,t,n){if(t&&t.length&&0!=t.length)if(t.length==n.length){this.recordUseIndex=[],this.Record_Lable_Score_Node=[];for(var o=this.all_lable_score,i=0;i<t.length;i++)this.setLableScorePoint(t[i],o[i],n[i])}else console.log("\u83b7\u53d6\u6d88\u9664\u961f\u5217\u51fa\u9519\u4e86")},t.prototype.setLableScorePoint=function(e,t,n){var o=e[this.getRandomNum(e.length-1)];if(this.recordUseIndex.indexOf(o)>-1)for(var i=0;i<e.length;i++)if(-1==this.recordUseIndex.indexOf(e[i])){o=e[i];break}var a="node"+(o+1),r=this.p_tounchLayer.getChildByName(a);r&&(t.x=r.x,t.y=r.y,t.opacity=255,this.recordUseIndex.push(o)),this.Record_Lable_Score_Node.push(t),t.getComponent(s.default).string=slot.SlotUtils.formatNumber(n)},t.prototype.closeLableScore=function(e,t){var n=this,o=this.p_tounchLayer.getChildByName("end_lable_point"),i=this.Record_Lable_Score_Node,a=this.getElimintcrushTaskNum(t-1);game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_SET_PROGRESS_NUMBER,a);for(var s=function(e){cc.tween(i[e]).to(.2,{position:new cc.Vec3(o.x,o.y)}).call(function(){if(i[e].opacity=0,e==i.length-1){var o=n.getElimintScoreByIndex(t-1);n.setLableScore(o)}}).start()},l=0;l<i.length;l++)s(l)},t.prototype.getRandomNum=function(e){var t=Math.random()*e;return Math.floor(t)},t.prototype.setTotalScoreCallback=function(){var e=this.getCurreScore();e>0&&(this.setTotalLableScore(e),this.setTitleBgSwitch(e))},t.prototype.setTotalLableScore=function(e){console.log("vvvvvvvvvvvvvvvvvvv",e),slot.SoundMger.instance.playEffect("Show_Total_Wins_Sound_Effects",!1),this.p_scoreLable.active=!1,this.p_totlescoreLable.active=!0,this.p_totlescoreLable.y=e/slot.SpinManager.instance.betCost>=10?this.p_titlebg3.y:this.p_titlebg1.y;var t=slot.SlotUtils.formatNumber(e);this.p_totlescoreLable.getChildByName("wintotlelable").getComponent(s.default).string=""+t,cc.tween(this.p_totlescoreLable).to(.3,{scale:1.2}).to(.3,{scale:1}).call(function(){}).start(),this.setTotaleWinLableEffect(e)},t.prototype.setLableScore=function(e){if(e>0){var t=l.default.instance.node.getComponent(c.default).progress_number;0<t&&t<10?slot.SoundMger.instance.playEffect("Collection_strip_1",!1):10<t&&t<30?slot.SoundMger.instance.playEffect("Collectio_strip_2",!1):slot.SoundMger.instance.playEffect("Collection_strip_3",!1),this.p_totlescoreLable.active=!1,this.p_scoreLable.active=!0;var n=slot.SlotUtils.formatNumber(e);this.p_scoreLable.getChildByName("winlable").getComponent(s.default).string=""+n,cc.tween(this.p_scoreLable).to(.3,{scale:1.2}).call(function(){0<t&&t<10?slot.SoundMger.instance.playEffect("Collection_strip_1",!1):10<t&&t<30?slot.SoundMger.instance.playEffect("Collectio_strip_2",!1):slot.SoundMger.instance.playEffect("Collection_strip_3",!1)}).to(.3,{scale:1}).call(function(){}).start(),this.setWinLableEffect()}},t.prototype.setCloseWinLable=function(){console.log("22222222222222222"),this.p_scoreLable.active=!1,this.p_totlescoreLable.active=!1},t.prototype.setWinLableEffect=function(){var e=this;this.p_totleeffect.active=!0,this.p_totleeffect.scaleY=255==this.p_titlebg3.opacity?this.p_titlebg3.scaleY:this.p_titlebg1.scaleY,this.p_totleeffect.y=255==this.p_titlebg3.opacity?this.p_titlebg3.y:this.p_titlebg1.y,this.p_totleeffect.getComponent(sp.Skeleton).setAnimation(0,"xxl_move light",!1),this.p_totleeffect.getComponent(sp.Skeleton).setCompleteListener(function(){e.p_totleeffect.getComponent(sp.Skeleton).setCompleteListener(null),e.p_totleeffect.active=!1})},t.prototype.setTotaleWinLableEffect=function(e){var t=this;this.p_totleeffect.active=!0;var n=e/slot.SpinManager.instance.betCost;this.p_totleeffect.scaleY=n>=10?this.p_titlebg3.scaleY:this.p_titlebg1.scaleY,this.p_totleeffect.y=n>=10?this.p_titlebg3.y:this.p_titlebg1.y;var o=function(){255==t.p_titlebg1.opacity?t.p_totleeffect.active=!1:255==t.p_titlebg2.opacity?t.p_totleeffect.getComponent(sp.Skeleton).setAnimation(0,"xxla_idle_light2",!0):255==t.p_titlebg3.opacity&&t.p_totleeffect.getComponent(sp.Skeleton).setAnimation(0,"xxlc_idle_light",!0)};if(this.LargeDragonMode){slot.SoundMger.instance.playEffect("End_window",!1);var i=this.p_totleeffect.getSiblingIndex();this.p_totleeffect.setSiblingIndex(i+2),this.p_totleeffect.getComponent(sp.Skeleton).setAnimation(0,"xxl_fireB",!1),this.p_totleeffect.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_totleeffect.getComponent(sp.Skeleton).setCompleteListener(null),t.p_totleeffect.setSiblingIndex(i),o()}),setTimeout(function(){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_CLOSE_LARGE_DRENGER),slot.SoundMger.instance.stopEffect("Dragon_Mode_Sound"),slot.SoundMger.instance.setSingleMusicVolume("Game_Back_Music",.4)},500)}else slot.SoundMger.instance.playEffect("Fire_sound_effects",!1),this.p_totleeffect.getComponent(sp.Skeleton).setAnimation(0,"xxl_fireA",!1),this.p_totleeffect.getComponent(sp.Skeleton).setCompleteListener(function(){t.p_totleeffect.getComponent(sp.Skeleton).setCompleteListener(null),o()})},t.prototype.setTitleBgSwitch=function(e){var t=e/slot.SpinManager.instance.betCost;t<5?(this.p_titlebg1.opacity=255,this.p_titlebg2.opacity=0,this.p_titlebg3.opacity=0,slot.SoundMger.instance.playEffect("First-Level_Broadcast_Box_Sound_Effect",!1)):t>=5&&t<10?(this.p_titlebg1.opacity=0,this.p_titlebg2.opacity=255,this.p_titlebg3.opacity=0,slot.SoundMger.instance.playEffect("Secondary_Broadcast_Box_Sound_Effect",!1)):t>=10&&(this.p_titlebg1.opacity=0,this.p_titlebg2.opacity=0,this.p_titlebg3.opacity=255,slot.SoundMger.instance.playEffect("Collector_Sound",!1))},t.prototype.initTitleBg=function(){this.p_titlebg1.opacity=255,this.p_titlebg2.opacity=0,this.p_titlebg3.opacity=0,this.p_totleeffect.scaleY=this.p_titlebg1.scaleY,this.p_totleeffect.y=this.p_titlebg1.y,this.p_totleeffect.active=!1},t.prototype.closeBanner=function(){this.initTitleBg(),this.p_totlescoreLable.active=!1,this.p_scoreLable.active=!1,game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_BANNER_CTRAL,r.BannerCtrl.BannerOpen)},t.prototype.updateWinSorce=function(e,t){if(this.frist_enter_game&&(this.frist_enter_game=!1,t>0)){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_BANNER_CTRAL,r.BannerCtrl.BannerClose);var n=t/slot.SpinManager.instance.betCost;n<5?(this.p_titlebg1.opacity=255,this.p_titlebg2.opacity=0,this.p_titlebg3.opacity=0):n>=5&&n<10?(this.p_titlebg1.opacity=0,this.p_titlebg2.opacity=255,this.p_titlebg3.opacity=0):n>=10&&(this.p_titlebg1.opacity=0,this.p_titlebg2.opacity=0,this.p_titlebg3.opacity=255),this.p_scoreLable.active=!1,this.p_totlescoreLable.active=!0,this.p_totlescoreLable.y=n>=10?this.p_titlebg3.y:this.p_titlebg1.y;var o=slot.SlotUtils.formatNumber(t);this.p_totlescoreLable.getChildByName("wintotlelable").getComponent(s.default).string=""+o,n>=5&&(this.p_totleeffect.active=!0,this.p_totleeffect.getComponent(sp.Skeleton).setAnimation(0,n>=10?"xxlc_idle_light":"xxla_idle_light2",!0),this.p_totleeffect.scaleY=n>=10?this.p_titlebg3.scaleY:this.p_titlebg1.scaleY,this.p_totleeffect.y=n>=10?this.p_titlebg3.y:this.p_titlebg1.y)}},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_GUNZHOU_SPINSTART,this.onSpinStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_GUNZHOU_END,this.onSpinEnd,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_SET_ElIMINATE_SCORE,this.setElimintScoreLable,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_SET_ElIMINATE_SCORE_CLOSE,this.closeLableScore,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_ACCEPT_NETWORK_DATA,this.setNetWorkData,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_SET_ToTal_SCORE,this.setTotalScoreCallback,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_LARGEDEONGE_STATE,this.setLargeDragonMode,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CLEAR_All_LAST_GAME_DATA,this.onSpinStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_CLOSE_BANNER_CALLBACK,this.closeBanner,this)},a([g(cc.Node)],t.prototype,"p_titlebg1",void 0),a([g(cc.Node)],t.prototype,"p_titlebg2",void 0),a([g(cc.Node)],t.prototype,"p_titlebg3",void 0),a([g(cc.Node)],t.prototype,"p_scoreLable",void 0),a([g(cc.Node)],t.prototype,"p_totlescoreLable",void 0),a([g(cc.Node)],t.prototype,"p_totleeffect",void 0),a([g(cc.Node)],t.prototype,"p_tounchLayer",void 0),a([_],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../main/GameEventName111006101":"GameEventName111006101","../main/NumAtlasLabel111006101":"NumAtlasLabel111006101","./GameLayer111006101":"GameLayer111006101","./ProgressBarCtrl":"ProgressBarCtrl"}],Tool:[function(e,t,n){"use strict";cc._RF.push(t,"ff1f8UR+3xIJ6t3h7aVgrrn","Tool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getAllDataInRoller=function(){for(var e=[],t=0;t<60;t++){var n=slot.SlotMachineView.instance.scroller.getRenderByIndex(t);n&&e.push(n)}return e},e.getLastRespData=function(){var t=[];e.respData.updateList&&(t=e.respData.updateList[0].value.handleState.game_10017.data.resultList);var n=[];return 1==t.length?n=[]:t[0]&&(n=t[t.length-2].crushMoveGrid),n},e.respData=null,e.totalEliminateTime=0,e.eliminateTime=0,e}();n.default=o,cc._RF.pop()},{}],WinAnimanager111006101:[function(e,t,n){"use strict";cc._RF.push(t,"8ebbcI2NpJKo5CrPxKbMM9H","WinAnimanager111006101");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../main/GameEventName111006101"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.playWinStart=function(){console.log("WinAnimanager111006101 playWinStar")},t.prototype.playWinTextFadeIn=function(e,t){return console.log("WinAnimanager111006101 playWinTextFadeIn winType="+t),t==slot.WinAniType.Small?(slot.SoundMger.instance.setSingleMusicVolume("Game_Back_Music",0),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Prize_Big),cc.tween(this.winCoinLabel).set({offScale:0}).delay(.3).to(.2,{offScale:2}).to(.2,{offScale:1}).start(),cc.tween(e).set({scale:0}).to(.2,{scale:2}).to(.2,{scale:1}).start()):(cc.tween(this.winCoinLabel).set({offScale:1}).delay(.3).to(.15,{offScale:5}).to(.15,{offScale:1}).start(),cc.tween(e).set({scale:1}).to(.2,{scale:2}).to(.2,{scale:1}).start())},t.prototype.playWinTextFadeOut=function(e,t){console.log("WinAnimanager111006101 playWinTextFadeOut ="+t),e.active=!1},t.prototype.onStageChange=function(){console.log("WinAnimanager111006101 onStageChange")},t.prototype.onPlayFinalAnimation=function(){console.log("WinAnimanager111006101 onPlayFinalAnimation"),this.myPlayFinish()},t.prototype.onCoinIncreaseEnd=function(){console.log("WinAnimanager111006101 onCoinIncreaseEnd"),this.myPlayFinish()},t.prototype.playFadeOut=function(t){console.log("WinAnimanager111006101 playFadeOut"),e.prototype.playFadeOut.call(this,t),slot.SoundMger.instance.setSingleMusicVolume("Game_Back_Music",.4)},t.prototype.myPlayFinish=function(){var e=this.getWinTextNode();cc.tween(e).to(.2,{scale:2}).to(.2,{scale:1}).start(),cc.tween(this.winCoinLabel.node).delay(.15).to(.2,{scale:1.5}).to(.2,{scale:1}).start(),slot.SoundMger.instance.stopEffect(r.SOUND_NAME.Prize_Big),slot.SoundMger.instance.playEffect(r.SOUND_NAME.Prize_Big_End,!1);var t=this.aniLayer.getChildByName("mega_win_bg_boom");t&&(t.active=!0,t.getComponent(sp.Skeleton).setAnimation(0,"superwin_end",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){t.getComponent(sp.Skeleton).setCompleteListener(null),t.active=!1}))},a([l],t)}(slot.WinAniManager));n.default=c,cc._RF.pop()},{"../main/GameEventName111006101":"GameEventName111006101"}]},{},["ParticleSpriteFramesRefresh","GameBg111006101","Banner111006101","CommonNumAtlas111006101","GameEventName111006101","LanguageInfo111006101","Main111006101","NumAtlasLabel111006101","ChangEImageEffectCtrl","FlamesSk111006101","GameLayer111006101","GameRoller111006101","ProgressBarCtrl","RenderEliminateCtrl","SpinSlotViewExtend111006101","TitleBgCtrl","WinAnimanager111006101","JTChildManager111006101","JTLayerManager111006101","JTLogicFactroy111006101","JTTest111006101","Tool"]);